/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={54:(e,t,n)=>{"use strict";const s=n(1929),r=(e,t,n)=>{if(!1===s(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===s(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let i={relaxZeros:!0,...n};"boolean"==typeof i.strictZeros&&(i.relaxZeros=!1===i.strictZeros);let c=e+":"+t+"="+String(i.relaxZeros)+String(i.shorthand)+String(i.capture)+String(i.wrap);if(r.cache.hasOwnProperty(c))return r.cache[c].result;let l=Math.min(e,t),u=Math.max(e,t);if(1===Math.abs(l-u)){let n=e+"|"+t;return i.capture?`(${n})`:!1===i.wrap?n:`(?:${n})`}let h=f(e)||f(t),d={min:e,max:t,a:l,b:u},p=[],y=[];return h&&(d.isPadded=h,d.maxLen=String(d.max).length),l<0&&(y=a(u<0?Math.abs(u):1,Math.abs(l),d,i),l=d.a=0),u>=0&&(p=a(l,u,d,i)),d.negatives=y,d.positives=p,d.result=function(e,t){let n=o(e,t,"-",!1)||[],s=o(t,e,"",!1)||[],r=o(e,t,"-?",!0)||[];return n.concat(r).concat(s).join("|")}(y,p),!0===i.capture?d.result=`(${d.result})`:!1!==i.wrap&&p.length+y.length>1&&(d.result=`(?:${d.result})`),r.cache[c]=d,d.result};function i(e,t,n){if(e===t)return{pattern:e,count:[],digits:0};let s=function(e,t){let n=[];for(let s=0;s<e.length;s++)n.push([e[s],t[s]]);return n}(e,t),r=s.length,i="",a=0;for(let e=0;e<r;e++){let[t,n]=s[e];t===n?i+=t:"0"!==t||"9"!==n?i+=p(t,n):a++}return a&&(i+=!0===n.shorthand?"\\d":"[0-9]"),{pattern:i,count:[a],digits:r}}function a(e,t,n,s){let r,a=function(e,t){let n=1,s=1,r=u(e,n),i=new Set([t]);for(;e<=r&&r<=t;)i.add(r),n+=1,r=u(e,n);for(r=h(t+1,s)-1;e<r&&r<=t;)i.add(r),s+=1,r=h(t+1,s)-1;return i=[...i],i.sort(c),i}(e,t),o=[],l=e;for(let e=0;e<a.length;e++){let t=a[e],c=i(String(l),String(t),s),u="";n.isPadded||!r||r.pattern!==c.pattern?(n.isPadded&&(u=y(t,n,s)),c.string=u+c.pattern+d(c.count),o.push(c),l=t+1,r=c):(r.count.length>1&&r.count.pop(),r.count.push(c.count[0]),r.string=r.pattern+d(r.count),l=t+1)}return o}function o(e,t,n,s,r){let i=[];for(let r of e){let{string:e}=r;s||l(t,"string",e)||i.push(n+e),s&&l(t,"string",e)&&i.push(n+e)}return i}function c(e,t){return e>t?1:t>e?-1:0}function l(e,t,n){return e.some(e=>e[t]===n)}function u(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function h(e,t){return e-e%Math.pow(10,t)}function d(e){let[t=0,n=""]=e;return n||t>1?`{${t+(n?","+n:"")}}`:""}function p(e,t,n){return`[${e}${t-e===1?"":"-"}${t}]`}function f(e){return/^-?(0+)\d/.test(e)}function y(e,t,n){if(!t.isPadded)return e;let s=Math.abs(t.maxLen-String(e).length),r=!1!==n.relaxZeros;switch(s){case 0:return"";case 1:return r?"0?":"0";case 2:return r?"0{0,2}":"00";default:return r?`0{0,${s}}`:`0{${s}}`}}r.cache={},r.clearCache=()=>r.cache={},e.exports=r},131:(e,t,n)=>{"use strict";var s=n(2382),r=n(6928).posix.dirname,i="win32"===n(857).platform(),a=/\\/g,o=/[\{\[].*[\}\]]$/,c=/(^|[^\\])([\{\[]|\([^\)]+$)/,l=/\\([\!\*\?\|\[\]\(\)\{\}])/g;e.exports=function(e,t){Object.assign({flipBackslashes:!0},t).flipBackslashes&&i&&e.indexOf("/")<0&&(e=e.replace(a,"/")),o.test(e)&&(e+="/"),e+="a";do{e=r(e)}while(s(e)||c.test(e));return e.replace(l,"$1")}},158:(e,t,n)=>{"use strict";const{EventEmitter:s}=n(4434),r=n(9896),i=n(6928),{promisify:a}=n(9023),o=n(9084),c=n(2578).default,l=n(131),u=n(2382),h=n(4537),d=n(4100),p=n(1150),f=n(5995),{EV_ALL:y,EV_READY:m,EV_ADD:w,EV_CHANGE:g,EV_UNLINK:_,EV_ADD_DIR:E,EV_UNLINK_DIR:S,EV_RAW:b,EV_ERROR:v,STR_CLOSE:A,STR_END:C,BACK_SLASH_RE:R,DOUBLE_SLASH_RE:x,SLASH_OR_BACK_SLASH_RE:T,DOT_RE:k,REPLACER_RE:M,SLASH:O,SLASH_SLASH:F,BRACE_START:P,BANG:D,ONE_DOT:N,TWO_DOTS:L,GLOBSTAR:I,SLASH_GLOBSTAR:H,ANYMATCH_OPTS:$,STRING_TYPE:W,FUNCTION_TYPE:j,EMPTY_STR:U,EMPTY_FN:B,isWindows:G,isMacos:z,isIBMi:K}=n(6163),V=a(r.stat),Y=a(r.readdir),q=(e=[])=>Array.isArray(e)?e:[e],Q=(e,t=[])=>(e.forEach(e=>{Array.isArray(e)?Q(e,t):t.push(e)}),t),X=e=>{const t=Q(q(e));if(!t.every(e=>typeof e===W))throw new TypeError(`Non-string provided as watch path: ${t}`);return t.map(Z)},J=e=>{let t=e.replace(R,O),n=!1;for(t.startsWith(F)&&(n=!0);t.match(x);)t=t.replace(x,O);return n&&(t=O+t),t},Z=e=>J(i.normalize(J(e))),ee=(e=U)=>t=>typeof t!==W?t:Z(i.isAbsolute(t)?t:i.join(e,t)),te=(e,t)=>void 0===e[t];class ne{constructor(e,t){this.path=e,this._removeWatcher=t,this.items=new Set}add(e){const{items:t}=this;t&&e!==N&&e!==L&&t.add(e)}async remove(e){const{items:t}=this;if(!t)return;if(t.delete(e),t.size>0)return;const n=this.path;try{await Y(n)}catch(e){this._removeWatcher&&this._removeWatcher(i.dirname(n),i.basename(n))}}has(e){const{items:t}=this;if(t)return t.has(e)}getChildren(){const{items:e}=this;if(e)return[...e.values()]}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}}class se{constructor(e,t,n,s){this.fsw=s,this.path=e=e.replace(M,U),this.watchPath=t,this.fullWatchPath=i.resolve(t),this.hasGlob=t!==e,e===U&&(this.hasGlob=!1),this.globSymlink=!(!this.hasGlob||!n)&&void 0,this.globFilter=!!this.hasGlob&&c(e,void 0,$),this.dirParts=this.getDirParts(e),this.dirParts.forEach(e=>{e.length>1&&e.pop()}),this.followSymlinks=n,this.statMethod=n?"stat":"lstat"}checkGlobSymlink(e){return void 0===this.globSymlink&&(this.globSymlink=e.fullParentDir!==this.fullWatchPath&&{realPath:e.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?e.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):e.fullPath}entryPath(e){return i.join(this.watchPath,i.relative(this.watchPath,this.checkGlobSymlink(e)))}filterPath(e){const{stats:t}=e;if(t&&t.isSymbolicLink())return this.filterDir(e);const n=this.entryPath(e);return(!this.hasGlob||typeof this.globFilter!==j||this.globFilter(n))&&this.fsw._isntIgnored(n,t)&&this.fsw._hasReadPermissions(t)}getDirParts(e){if(!this.hasGlob)return[];const t=[];return(e.includes(P)?h.expand(e):[e]).forEach(e=>{t.push(i.relative(this.watchPath,e).split(T))}),t}filterDir(e){if(this.hasGlob){const t=this.getDirParts(this.checkGlobSymlink(e));let n=!1;this.unmatchedGlob=!this.dirParts.some(e=>e.every((e,s)=>(e===I&&(n=!0),n||!t[0][s]||c(e,t[0][s],$))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(e),e.stats)}}class re extends s{constructor(e){super();const t={};e&&Object.assign(t,e),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,te(t,"persistent")&&(t.persistent=!0),te(t,"ignoreInitial")&&(t.ignoreInitial=!1),te(t,"ignorePermissionErrors")&&(t.ignorePermissionErrors=!1),te(t,"interval")&&(t.interval=100),te(t,"binaryInterval")&&(t.binaryInterval=300),te(t,"disableGlobbing")&&(t.disableGlobbing=!1),t.enableBinaryInterval=t.binaryInterval!==t.interval,te(t,"useFsEvents")&&(t.useFsEvents=!t.usePolling),f.canUse()||(t.useFsEvents=!1),te(t,"usePolling")&&!t.useFsEvents&&(t.usePolling=z),K&&(t.usePolling=!0);const n=process.env.CHOKIDAR_USEPOLLING;if(void 0!==n){const e=n.toLowerCase();t.usePolling="false"!==e&&"0"!==e&&("true"===e||"1"===e||!!e)}const s=process.env.CHOKIDAR_INTERVAL;s&&(t.interval=Number.parseInt(s,10)),te(t,"atomic")&&(t.atomic=!t.usePolling&&!t.useFsEvents),t.atomic&&(this._pendingUnlinks=new Map),te(t,"followSymlinks")&&(t.followSymlinks=!0),te(t,"awaitWriteFinish")&&(t.awaitWriteFinish=!1),!0===t.awaitWriteFinish&&(t.awaitWriteFinish={});const r=t.awaitWriteFinish;r&&(r.stabilityThreshold||(r.stabilityThreshold=2e3),r.pollInterval||(r.pollInterval=100),this._pendingWrites=new Map),t.ignored&&(t.ignored=q(t.ignored));let i=0;this._emitReady=()=>{i++,i>=this._readyCount&&(this._emitReady=B,this._readyEmitted=!0,process.nextTick(()=>this.emit(m)))},this._emitRaw=(...e)=>this.emit(b,...e),this._readyEmitted=!1,this.options=t,t.useFsEvents?this._fsEventsHandler=new f(this):this._nodeFsHandler=new p(this),Object.freeze(t)}add(e,t,n){const{cwd:s,disableGlobbing:r}=this.options;this.closed=!1;let a=X(e);return s&&(a=a.map(e=>{const t=((e,t)=>i.isAbsolute(e)?e:e.startsWith(D)?D+i.join(t,e.slice(1)):i.join(t,e))(e,s);return r||!u(e)?t:d(t)})),a=a.filter(e=>e.startsWith(D)?(this._ignoredPaths.add(e.slice(1)),!1):(this._ignoredPaths.delete(e),this._ignoredPaths.delete(e+H),this._userIgnored=void 0,!0)),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=a.length),this.options.persistent&&(this._readyCount+=a.length),a.forEach(e=>this._fsEventsHandler._addToFsEvents(e))):(this._readyCount||(this._readyCount=0),this._readyCount+=a.length,Promise.all(a.map(async e=>{const s=await this._nodeFsHandler._addToNodeFs(e,!n,0,0,t);return s&&this._emitReady(),s})).then(e=>{this.closed||e.filter(e=>e).forEach(e=>{this.add(i.dirname(e),i.basename(t||e))})})),this}unwatch(e){if(this.closed)return this;const t=X(e),{cwd:n}=this.options;return t.forEach(e=>{i.isAbsolute(e)||this._closers.has(e)||(n&&(e=i.join(n,e)),e=i.resolve(e)),this._closePath(e),this._ignoredPaths.add(e),this._watched.has(e)&&this._ignoredPaths.add(e+H),this._userIgnored=void 0}),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();const e=[];return this._closers.forEach(t=>t.forEach(t=>{const n=t();n instanceof Promise&&e.push(n)})),this._streams.forEach(e=>e.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(e=>e.dispose()),["closers","watched","streams","symlinkPaths","throttled"].forEach(e=>{this[`_${e}`].clear()}),this._closePromise=e.length?Promise.all(e).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){const e={};return this._watched.forEach((t,n)=>{const s=this.options.cwd?i.relative(this.options.cwd,n):n;e[s||N]=t.getChildren().sort()}),e}emitWithAll(e,t){this.emit(...t),e!==v&&this.emit(y,...t)}async _emit(e,t,n,s,r){if(this.closed)return;const a=this.options;G&&(t=i.normalize(t)),a.cwd&&(t=i.relative(a.cwd,t));const o=[e,t];void 0!==r?o.push(n,s,r):void 0!==s?o.push(n,s):void 0!==n&&o.push(n);const c=a.awaitWriteFinish;let l;if(c&&(l=this._pendingWrites.get(t)))return l.lastChange=new Date,this;if(a.atomic){if(e===_)return this._pendingUnlinks.set(t,o),setTimeout(()=>{this._pendingUnlinks.forEach((e,t)=>{this.emit(...e),this.emit(y,...e),this._pendingUnlinks.delete(t)})},"number"==typeof a.atomic?a.atomic:100),this;e===w&&this._pendingUnlinks.has(t)&&(e=o[0]=g,this._pendingUnlinks.delete(t))}if(c&&(e===w||e===g)&&this._readyEmitted){const n=(t,n)=>{t?(e=o[0]=v,o[1]=t,this.emitWithAll(e,o)):n&&(o.length>2?o[2]=n:o.push(n),this.emitWithAll(e,o))};return this._awaitWriteFinish(t,c.stabilityThreshold,e,n),this}if(e===g&&!this._throttle(g,t,50))return this;if(a.alwaysStat&&void 0===n&&(e===w||e===E||e===g)){const e=a.cwd?i.join(a.cwd,t):t;let n;try{n=await V(e)}catch(e){}if(!n||this.closed)return;o.push(n)}return this.emitWithAll(e,o),this}_handleError(e){const t=e&&e.code;return e&&"ENOENT"!==t&&"ENOTDIR"!==t&&(!this.options.ignorePermissionErrors||"EPERM"!==t&&"EACCES"!==t)&&this.emit(v,e),e||this.closed}_throttle(e,t,n){this._throttled.has(e)||this._throttled.set(e,new Map);const s=this._throttled.get(e),r=s.get(t);if(r)return r.count++,!1;let i;const a=()=>{const e=s.get(t),n=e?e.count:0;return s.delete(t),clearTimeout(i),e&&clearTimeout(e.timeoutObject),n};i=setTimeout(a,n);const o={timeoutObject:i,clear:a,count:0};return s.set(t,o),o}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(e,t,n,s){let a,o=e;this.options.cwd&&!i.isAbsolute(e)&&(o=i.join(this.options.cwd,e));const c=new Date,l=n=>{r.stat(o,(r,i)=>{if(r||!this._pendingWrites.has(e))return void(r&&"ENOENT"!==r.code&&s(r));const o=Number(new Date);n&&i.size!==n.size&&(this._pendingWrites.get(e).lastChange=o),o-this._pendingWrites.get(e).lastChange>=t?(this._pendingWrites.delete(e),s(void 0,i)):a=setTimeout(l,this.options.awaitWriteFinish.pollInterval,i)})};this._pendingWrites.has(e)||(this._pendingWrites.set(e,{lastChange:c,cancelWait:()=>(this._pendingWrites.delete(e),clearTimeout(a),n)}),a=setTimeout(l,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(e,t){if(this.options.atomic&&k.test(e))return!0;if(!this._userIgnored){const{cwd:e}=this.options,t=this.options.ignored,n=t&&t.map(ee(e)),s=q(n).filter(e=>typeof e===W&&!u(e)).map(e=>e+H),r=this._getGlobIgnored().map(ee(e)).concat(n,s);this._userIgnored=c(r,void 0,$)}return this._userIgnored([e,t])}_isntIgnored(e,t){return!this._isIgnored(e,t)}_getWatchHelpers(e,t){const n=t||this.options.disableGlobbing||!u(e)?e:l(e),s=this.options.followSymlinks;return new se(e,n,s,this)}_getWatchedDir(e){this._boundRemove||(this._boundRemove=this._remove.bind(this));const t=i.resolve(e);return this._watched.has(t)||this._watched.set(t,new ne(t,this._boundRemove)),this._watched.get(t)}_hasReadPermissions(e){if(this.options.ignorePermissionErrors)return!0;const t=511&(e&&Number.parseInt(e.mode,10)),n=Number.parseInt(t.toString(8)[0],10);return Boolean(4&n)}_remove(e,t,n){const s=i.join(e,t),r=i.resolve(s);if(n=null!=n?n:this._watched.has(s)||this._watched.has(r),!this._throttle("remove",s,100))return;n||this.options.useFsEvents||1!==this._watched.size||this.add(e,t,!0),this._getWatchedDir(s).getChildren().forEach(e=>this._remove(s,e));const a=this._getWatchedDir(e),o=a.has(t);a.remove(t),this._symlinkPaths.has(r)&&this._symlinkPaths.delete(r);let c=s;if(this.options.cwd&&(c=i.relative(this.options.cwd,s)),this.options.awaitWriteFinish&&this._pendingWrites.has(c)&&this._pendingWrites.get(c).cancelWait()===w)return;this._watched.delete(s),this._watched.delete(r);const l=n?S:_;o&&!this._isIgnored(s)&&this._emit(l,s),this.options.useFsEvents||this._closePath(s)}_closePath(e){this._closeFile(e);const t=i.dirname(e);this._getWatchedDir(t).remove(i.basename(e))}_closeFile(e){const t=this._closers.get(e);t&&(t.forEach(e=>e()),this._closers.delete(e))}_addPathCloser(e,t){if(!t)return;let n=this._closers.get(e);n||(n=[],this._closers.set(e,n)),n.push(t)}_readdirp(e,t){if(this.closed)return;const n={type:y,alwaysStat:!0,lstat:!0,...t};let s=o(e,n);return this._streams.add(s),s.once(A,()=>{s=void 0}),s.once(C,()=>{s&&(this._streams.delete(s),s=void 0)}),s}}t.w=(e,t)=>{const n=new re(t);return n.add(e),n}},280:(e,t,n)=>{"use strict";const s=n(6928),r="win32"===process.platform,{REGEX_BACKSLASH:i,REGEX_REMOVE_BACKSLASH:a,REGEX_SPECIAL_CHARS:o,REGEX_SPECIAL_CHARS_GLOBAL:c}=n(3940);t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>o.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(c,"\\$1"),t.toPosixSlashes=e=>e.replace(i,"/"),t.removeBackslashes=e=>e.replace(a,e=>"\\"===e?"":e),t.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);return 3===e.length&&e[0]>=9||8===e[0]&&e[1]>=10},t.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===r||"\\"===s.sep,t.escapeLast=(e,n,s)=>{const r=e.lastIndexOf(n,s);return-1===r?e:"\\"===e[r-1]?t.escapeLast(e,n,r-1):`${e.slice(0,r)}\\${e.slice(r)}`},t.removePrefix=(e,t={})=>{let n=e;return n.startsWith("./")&&(n=n.slice(2),t.prefix="./"),n},t.wrapOutput=(e,t={},n={})=>{let s=`${n.contains?"":"^"}(?:${e})${n.contains?"":"$"}`;return!0===t.negated&&(s=`(?:^(?!${s}).*$)`),s}},857:e=>{"use strict";e.exports=require("os")},1144:e=>{e.exports={stringify:function(e,{EOL:t="\n",finalEOL:n=!0,replacer:s=null,spaces:r}={}){const i=n?t:"";return JSON.stringify(e,s,r).replace(/\n/g,t)+i},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}}},1150:(e,t,n)=>{"use strict";const s=n(9896),r=n(6928),{promisify:i}=n(9023),a=n(3843),{isWindows:o,isLinux:c,EMPTY_FN:l,EMPTY_STR:u,KEY_LISTENERS:h,KEY_ERR:d,KEY_RAW:p,HANDLER_KEYS:f,EV_CHANGE:y,EV_ADD:m,EV_ADD_DIR:w,EV_ERROR:g,STR_DATA:_,STR_END:E,BRACE_START:S,STAR:b}=n(6163),v=i(s.open),A=i(s.stat),C=i(s.lstat),R=i(s.close),x=i(s.realpath),T={lstat:C,stat:A},k=(e,t)=>{e instanceof Set?e.forEach(t):t(e)},M=(e,t,n)=>{let s=e[t];s instanceof Set||(e[t]=s=new Set([s])),s.add(n)},O=(e,t,n)=>{const s=e[t];s instanceof Set?s.delete(n):s===n&&delete e[t]},F=e=>e instanceof Set?0===e.size:!e,P=new Map;function D(e,t,n,i,a){const o=(t,s)=>{n(e),a(t,s,{watchedPath:e}),s&&e!==s&&N(r.resolve(e,s),h,r.join(e,s))};try{return s.watch(e,t,o)}catch(e){i(e)}}const N=(e,t,n,s,r)=>{const i=P.get(e);i&&k(i[t],e=>{e(n,s,r)})},L=new Map;e.exports=class{constructor(e){this.fsw=e,this._boundHandleError=t=>e._handleError(t)}_watchWithNodeFs(e,t){const n=this.fsw.options,i=r.dirname(e),c=r.basename(e);this.fsw._getWatchedDir(i).add(c);const u=r.resolve(e),m={persistent:n.persistent};let w;return t||(t=l),n.usePolling?(m.interval=n.enableBinaryInterval&&a(c)?n.binaryInterval:n.interval,w=((e,t,n,r)=>{const{listener:i,rawEmitter:a}=r;let o=L.get(t),c=new Set,l=new Set;const u=o&&o.options;return u&&(u.persistent<n.persistent||u.interval>n.interval)&&(c=o.listeners,l=o.rawEmitters,s.unwatchFile(t),o=void 0),o?(M(o,h,i),M(o,p,a)):(o={listeners:i,rawEmitters:a,options:n,watcher:s.watchFile(t,n,(n,s)=>{k(o.rawEmitters,e=>{e(y,t,{curr:n,prev:s})});const r=n.mtimeMs;(n.size!==s.size||r>s.mtimeMs||0===r)&&k(o.listeners,t=>t(e,n))})},L.set(t,o)),()=>{O(o,h,i),O(o,p,a),F(o.listeners)&&(L.delete(t),s.unwatchFile(t),o.options=o.watcher=void 0,Object.freeze(o))}})(e,u,m,{listener:t,rawEmitter:this.fsw._emitRaw})):w=((e,t,n,s)=>{const{listener:r,errHandler:i,rawEmitter:a}=s;let c,l=P.get(t);if(!n.persistent)return c=D(e,n,r,i,a),c.close.bind(c);if(l)M(l,h,r),M(l,d,i),M(l,p,a);else{if(c=D(e,n,N.bind(null,t,h),i,N.bind(null,t,p)),!c)return;c.on(g,async n=>{const s=N.bind(null,t,d);if(l.watcherUnusable=!0,o&&"EPERM"===n.code)try{const t=await v(e,"r");await R(t),s(n)}catch(e){}else s(n)}),l={listeners:r,errHandlers:i,rawEmitters:a,watcher:c},P.set(t,l)}return()=>{O(l,h,r),O(l,d,i),O(l,p,a),F(l.listeners)&&(l.watcher.close(),P.delete(t),f.forEach((e=>t=>{const n=e[t];n instanceof Set?n.clear():delete e[t]})(l)),l.watcher=void 0,Object.freeze(l))}})(e,u,m,{listener:t,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),w}_handleFile(e,t,n){if(this.fsw.closed)return;const s=r.dirname(e),i=r.basename(e),a=this.fsw._getWatchedDir(s);let o=t;if(a.has(i))return;const l=async(t,n)=>{if(this.fsw._throttle("watch",e,5))if(n&&0!==n.mtimeMs){if(a.has(i)){const t=n.atimeMs,s=n.mtimeMs;(!t||t<=s||s!==o.mtimeMs)&&this.fsw._emit(y,e,n),o=n}}else try{const n=await A(e);if(this.fsw.closed)return;const s=n.atimeMs,r=n.mtimeMs;(!s||s<=r||r!==o.mtimeMs)&&this.fsw._emit(y,e,n),c&&o.ino!==n.ino?(this.fsw._closeFile(t),o=n,this.fsw._addPathCloser(t,this._watchWithNodeFs(e,l))):o=n}catch(e){this.fsw._remove(s,i)}},u=this._watchWithNodeFs(e,l);if((!n||!this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(e)){if(!this.fsw._throttle(m,e,0))return;this.fsw._emit(m,e,t)}return u}async _handleSymlink(e,t,n,s){if(this.fsw.closed)return;const r=e.fullPath,i=this.fsw._getWatchedDir(t);if(!this.fsw.options.followSymlinks){let t;this.fsw._incrReadyCount();try{t=await x(n)}catch(e){return this.fsw._emitReady(),!0}if(this.fsw.closed)return;return i.has(s)?this.fsw._symlinkPaths.get(r)!==t&&(this.fsw._symlinkPaths.set(r,t),this.fsw._emit(y,n,e.stats)):(i.add(s),this.fsw._symlinkPaths.set(r,t),this.fsw._emit(m,n,e.stats)),this.fsw._emitReady(),!0}if(this.fsw._symlinkPaths.has(r))return!0;this.fsw._symlinkPaths.set(r,!0)}_handleRead(e,t,n,s,i,a,o){if(e=r.join(e,u),!n.hasGlob&&!(o=this.fsw._throttle("readdir",e,1e3)))return;const c=this.fsw._getWatchedDir(n.path),l=new Set;let h=this.fsw._readdirp(e,{fileFilter:e=>n.filterPath(e),directoryFilter:e=>n.filterDir(e),depth:0}).on(_,async o=>{if(this.fsw.closed)return void(h=void 0);const u=o.path;let d=r.join(e,u);l.add(u),o.stats.isSymbolicLink()&&await this._handleSymlink(o,e,d,u)||(this.fsw.closed?h=void 0:u!==s&&(s||c.has(u))||(this.fsw._incrReadyCount(),d=r.join(i,r.relative(i,d)),this._addToNodeFs(d,t,n,a+1)))}).on(g,this._boundHandleError);return new Promise(t=>h.once(E,()=>{if(this.fsw.closed)return void(h=void 0);const u=!!o&&o.clear();t(),c.getChildren().filter(t=>t!==e&&!l.has(t)&&(!n.hasGlob||n.filterPath({fullPath:r.resolve(e,t)}))).forEach(t=>{this.fsw._remove(e,t)}),h=void 0,u&&this._handleRead(e,!1,n,s,i,a,o)}))}async _handleDir(e,t,n,s,i,a,o){const c=this.fsw._getWatchedDir(r.dirname(e)),l=c.has(r.basename(e));let u,h;n&&this.fsw.options.ignoreInitial||i||l||a.hasGlob&&!a.globFilter(e)||this.fsw._emit(w,e,t),c.add(r.basename(e)),this.fsw._getWatchedDir(e);const d=this.fsw.options.depth;if((null==d||s<=d)&&!this.fsw._symlinkPaths.has(o)){if(!i&&(await this._handleRead(e,n,a,i,e,s,u),this.fsw.closed))return;h=this._watchWithNodeFs(e,(t,n)=>{n&&0===n.mtimeMs||this._handleRead(t,!1,a,i,e,s,u)})}return h}async _addToNodeFs(e,t,n,s,i){const a=this.fsw._emitReady;if(this.fsw._isIgnored(e)||this.fsw.closed)return a(),!1;const o=this.fsw._getWatchHelpers(e,s);!o.hasGlob&&n&&(o.hasGlob=n.hasGlob,o.globFilter=n.globFilter,o.filterPath=e=>n.filterPath(e),o.filterDir=e=>n.filterDir(e));try{const n=await T[o.statMethod](o.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(o.watchPath,n))return a(),!1;const c=this.fsw.options.followSymlinks&&!e.includes(b)&&!e.includes(S);let l;if(n.isDirectory()){const a=r.resolve(e),u=c?await x(e):e;if(this.fsw.closed)return;if(l=await this._handleDir(o.watchPath,n,t,s,i,o,u),this.fsw.closed)return;a!==u&&void 0!==u&&this.fsw._symlinkPaths.set(a,u)}else if(n.isSymbolicLink()){const i=c?await x(e):e;if(this.fsw.closed)return;const a=r.dirname(o.watchPath);if(this.fsw._getWatchedDir(a).add(o.watchPath),this.fsw._emit(m,o.watchPath,n),l=await this._handleDir(a,n,t,s,e,o,i),this.fsw.closed)return;void 0!==i&&this.fsw._symlinkPaths.set(r.resolve(e),i)}else l=this._handleFile(o.watchPath,n,t);return a(),this.fsw._addPathCloser(e,l),!1}catch(t){if(this.fsw._handleError(t))return a(),e}}}},1154:(e,t,n)=>{"use strict";const s=n(3940),r=n(280),{MAX_LENGTH:i,POSIX_REGEX_SOURCE:a,REGEX_NON_SPECIAL_CHARS:o,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:l}=s,u=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const n=`[${e.join("-")}]`;try{new RegExp(n)}catch(t){return e.map(e=>r.escapeRegex(e)).join("..")}return n},h=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,d=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=l[e]||e;const n={...t},p="number"==typeof n.maxLength?Math.min(i,n.maxLength):i;let f=e.length;if(f>p)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${p}`);const y={type:"bos",value:"",output:n.prepend||""},m=[y],w=n.capture?"":"?:",g=r.isWindows(t),_=s.globChars(g),E=s.extglobChars(_),{DOT_LITERAL:S,PLUS_LITERAL:b,SLASH_LITERAL:v,ONE_CHAR:A,DOTS_SLASH:C,NO_DOT:R,NO_DOT_SLASH:x,NO_DOTS_SLASH:T,QMARK:k,QMARK_NO_DOT:M,STAR:O,START_ANCHOR:F}=_,P=e=>`(${w}(?:(?!${F}${e.dot?C:S}).)*?)`,D=n.dot?"":R,N=n.dot?k:M;let L=!0===n.bash?P(n):O;n.capture&&(L=`(${L})`),"boolean"==typeof n.noext&&(n.noextglob=n.noext);const I={input:e,index:-1,start:0,dot:!0===n.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:m};e=r.removePrefix(e,I),f=e.length;const H=[],$=[],W=[];let j,U=y;const B=()=>I.index===f-1,G=I.peek=(t=1)=>e[I.index+t],z=I.advance=()=>e[++I.index]||"",K=()=>e.slice(I.index+1),V=(e="",t=0)=>{I.consumed+=e,I.index+=t},Y=e=>{I.output+=null!=e.output?e.output:e.value,V(e.value)},q=()=>{let e=1;for(;"!"===G()&&("("!==G(2)||"?"===G(3));)z(),I.start++,e++;return e%2!=0&&(I.negated=!0,I.start++,!0)},Q=e=>{I[e]++,W.push(e)},X=e=>{I[e]--,W.pop()},J=e=>{if("globstar"===U.type){const t=I.braces>0&&("comma"===e.type||"brace"===e.type),n=!0===e.extglob||H.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||n||(I.output=I.output.slice(0,-U.output.length),U.type="star",U.value="*",U.output=L,I.output+=U.output)}if(H.length&&"paren"!==e.type&&(H[H.length-1].inner+=e.value),(e.value||e.output)&&Y(e),U&&"text"===U.type&&"text"===e.type)return U.value+=e.value,void(U.output=(U.output||"")+e.value);e.prev=U,m.push(e),U=e},Z=(e,t)=>{const s={...E[t],conditions:1,inner:""};s.prev=U,s.parens=I.parens,s.output=I.output;const r=(n.capture?"(":"")+s.open;Q("parens"),J({type:e,value:t,output:I.output?"":A}),J({type:"paren",extglob:!0,value:z(),output:r}),H.push(s)},ee=e=>{let s,r=e.close+(n.capture?")":"");if("negate"===e.type){let i=L;if(e.inner&&e.inner.length>1&&e.inner.includes("/")&&(i=P(n)),(i!==L||B()||/^\)+$/.test(K()))&&(r=e.close=`)$))${i}`),e.inner.includes("*")&&(s=K())&&/^\.[^\\/.]+$/.test(s)){const n=d(s,{...t,fastpaths:!1}).output;r=e.close=`)${n})${i})`}"bos"===e.prev.type&&(I.negatedExtglob=!0)}J({type:"paren",extglob:!0,value:j,output:r}),X("parens")};if(!1!==n.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let s=!1,i=e.replace(c,(e,t,n,r,i,a)=>"\\"===r?(s=!0,e):"?"===r?t?t+r+(i?k.repeat(i.length):""):0===a?N+(i?k.repeat(i.length):""):k.repeat(n.length):"."===r?S.repeat(n.length):"*"===r?t?t+r+(i?L:""):L:t?e:`\\${e}`);return!0===s&&(i=!0===n.unescape?i.replace(/\\/g,""):i.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),i===e&&!0===n.contains?(I.output=e,I):(I.output=r.wrapOutput(i,I,t),I)}for(;!B();){if(j=z(),"\0"===j)continue;if("\\"===j){const e=G();if("/"===e&&!0!==n.bash)continue;if("."===e||";"===e)continue;if(!e){j+="\\",J({type:"text",value:j});continue}const t=/^\\+/.exec(K());let s=0;if(t&&t[0].length>2&&(s=t[0].length,I.index+=s,s%2!=0&&(j+="\\")),!0===n.unescape?j=z():j+=z(),0===I.brackets){J({type:"text",value:j});continue}}if(I.brackets>0&&("]"!==j||"["===U.value||"[^"===U.value)){if(!1!==n.posix&&":"===j){const e=U.value.slice(1);if(e.includes("[")&&(U.posix=!0,e.includes(":"))){const e=U.value.lastIndexOf("["),t=U.value.slice(0,e),n=U.value.slice(e+2),s=a[n];if(s){U.value=t+s,I.backtrack=!0,z(),y.output||1!==m.indexOf(U)||(y.output=A);continue}}}("["===j&&":"!==G()||"-"===j&&"]"===G())&&(j=`\\${j}`),"]"!==j||"["!==U.value&&"[^"!==U.value||(j=`\\${j}`),!0===n.posix&&"!"===j&&"["===U.value&&(j="^"),U.value+=j,Y({value:j});continue}if(1===I.quotes&&'"'!==j){j=r.escapeRegex(j),U.value+=j,Y({value:j});continue}if('"'===j){I.quotes=1===I.quotes?0:1,!0===n.keepQuotes&&J({type:"text",value:j});continue}if("("===j){Q("parens"),J({type:"paren",value:j});continue}if(")"===j){if(0===I.parens&&!0===n.strictBrackets)throw new SyntaxError(h("opening","("));const e=H[H.length-1];if(e&&I.parens===e.parens+1){ee(H.pop());continue}J({type:"paren",value:j,output:I.parens?")":"\\)"}),X("parens");continue}if("["===j){if(!0!==n.nobracket&&K().includes("]"))Q("brackets");else{if(!0!==n.nobracket&&!0===n.strictBrackets)throw new SyntaxError(h("closing","]"));j=`\\${j}`}J({type:"bracket",value:j});continue}if("]"===j){if(!0===n.nobracket||U&&"bracket"===U.type&&1===U.value.length){J({type:"text",value:j,output:`\\${j}`});continue}if(0===I.brackets){if(!0===n.strictBrackets)throw new SyntaxError(h("opening","["));J({type:"text",value:j,output:`\\${j}`});continue}X("brackets");const e=U.value.slice(1);if(!0===U.posix||"^"!==e[0]||e.includes("/")||(j=`/${j}`),U.value+=j,Y({value:j}),!1===n.literalBrackets||r.hasRegexChars(e))continue;const t=r.escapeRegex(U.value);if(I.output=I.output.slice(0,-U.value.length),!0===n.literalBrackets){I.output+=t,U.value=t;continue}U.value=`(${w}${t}|${U.value})`,I.output+=U.value;continue}if("{"===j&&!0!==n.nobrace){Q("braces");const e={type:"brace",value:j,output:"(",outputIndex:I.output.length,tokensIndex:I.tokens.length};$.push(e),J(e);continue}if("}"===j){const e=$[$.length-1];if(!0===n.nobrace||!e){J({type:"text",value:j,output:j});continue}let t=")";if(!0===e.dots){const e=m.slice(),s=[];for(let t=e.length-1;t>=0&&(m.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&s.unshift(e[t].value);t=u(s,n),I.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const n=I.output.slice(0,e.outputIndex),s=I.tokens.slice(e.tokensIndex);e.value=e.output="\\{",j=t="\\}",I.output=n;for(const e of s)I.output+=e.output||e.value}J({type:"brace",value:j,output:t}),X("braces"),$.pop();continue}if("|"===j){H.length>0&&H[H.length-1].conditions++,J({type:"text",value:j});continue}if(","===j){let e=j;const t=$[$.length-1];t&&"braces"===W[W.length-1]&&(t.comma=!0,e="|"),J({type:"comma",value:j,output:e});continue}if("/"===j){if("dot"===U.type&&I.index===I.start+1){I.start=I.index+1,I.consumed="",I.output="",m.pop(),U=y;continue}J({type:"slash",value:j,output:v});continue}if("."===j){if(I.braces>0&&"dot"===U.type){"."===U.value&&(U.output=S);const e=$[$.length-1];U.type="dots",U.output+=j,U.value+=j,e.dots=!0;continue}if(I.braces+I.parens===0&&"bos"!==U.type&&"slash"!==U.type){J({type:"text",value:j,output:S});continue}J({type:"dot",value:j,output:S});continue}if("?"===j){if((!U||"("!==U.value)&&!0!==n.noextglob&&"("===G()&&"?"!==G(2)){Z("qmark",j);continue}if(U&&"paren"===U.type){const e=G();let t=j;if("<"===e&&!r.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===U.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(K()))&&(t=`\\${j}`),J({type:"text",value:j,output:t});continue}if(!0!==n.dot&&("slash"===U.type||"bos"===U.type)){J({type:"qmark",value:j,output:M});continue}J({type:"qmark",value:j,output:k});continue}if("!"===j){if(!0!==n.noextglob&&"("===G()&&("?"!==G(2)||!/[!=<:]/.test(G(3)))){Z("negate",j);continue}if(!0!==n.nonegate&&0===I.index){q();continue}}if("+"===j){if(!0!==n.noextglob&&"("===G()&&"?"!==G(2)){Z("plus",j);continue}if(U&&"("===U.value||!1===n.regex){J({type:"plus",value:j,output:b});continue}if(U&&("bracket"===U.type||"paren"===U.type||"brace"===U.type)||I.parens>0){J({type:"plus",value:j});continue}J({type:"plus",value:b});continue}if("@"===j){if(!0!==n.noextglob&&"("===G()&&"?"!==G(2)){J({type:"at",extglob:!0,value:j,output:""});continue}J({type:"text",value:j});continue}if("*"!==j){"$"!==j&&"^"!==j||(j=`\\${j}`);const e=o.exec(K());e&&(j+=e[0],I.index+=e[0].length),J({type:"text",value:j});continue}if(U&&("globstar"===U.type||!0===U.star)){U.type="star",U.star=!0,U.value+=j,U.output=L,I.backtrack=!0,I.globstar=!0,V(j);continue}let t=K();if(!0!==n.noextglob&&/^\([^?]/.test(t)){Z("star",j);continue}if("star"===U.type){if(!0===n.noglobstar){V(j);continue}const s=U.prev,r=s.prev,i="slash"===s.type||"bos"===s.type,a=r&&("star"===r.type||"globstar"===r.type);if(!0===n.bash&&(!i||t[0]&&"/"!==t[0])){J({type:"star",value:j,output:""});continue}const o=I.braces>0&&("comma"===s.type||"brace"===s.type),c=H.length&&("pipe"===s.type||"paren"===s.type);if(!i&&"paren"!==s.type&&!o&&!c){J({type:"star",value:j,output:""});continue}for(;"/**"===t.slice(0,3);){const n=e[I.index+4];if(n&&"/"!==n)break;t=t.slice(3),V("/**",3)}if("bos"===s.type&&B()){U.type="globstar",U.value+=j,U.output=P(n),I.output=U.output,I.globstar=!0,V(j);continue}if("slash"===s.type&&"bos"!==s.prev.type&&!a&&B()){I.output=I.output.slice(0,-(s.output+U.output).length),s.output=`(?:${s.output}`,U.type="globstar",U.output=P(n)+(n.strictSlashes?")":"|$)"),U.value+=j,I.globstar=!0,I.output+=s.output+U.output,V(j);continue}if("slash"===s.type&&"bos"!==s.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";I.output=I.output.slice(0,-(s.output+U.output).length),s.output=`(?:${s.output}`,U.type="globstar",U.output=`${P(n)}${v}|${v}${e})`,U.value+=j,I.output+=s.output+U.output,I.globstar=!0,V(j+z()),J({type:"slash",value:"/",output:""});continue}if("bos"===s.type&&"/"===t[0]){U.type="globstar",U.value+=j,U.output=`(?:^|${v}|${P(n)}${v})`,I.output=U.output,I.globstar=!0,V(j+z()),J({type:"slash",value:"/",output:""});continue}I.output=I.output.slice(0,-U.output.length),U.type="globstar",U.output=P(n),U.value+=j,I.output+=U.output,I.globstar=!0,V(j);continue}const s={type:"star",value:j,output:L};!0!==n.bash?!U||"bracket"!==U.type&&"paren"!==U.type||!0!==n.regex?(I.index!==I.start&&"slash"!==U.type&&"dot"!==U.type||("dot"===U.type?(I.output+=x,U.output+=x):!0===n.dot?(I.output+=T,U.output+=T):(I.output+=D,U.output+=D),"*"!==G()&&(I.output+=A,U.output+=A)),J(s)):(s.output=j,J(s)):(s.output=".*?","bos"!==U.type&&"slash"!==U.type||(s.output=D+s.output),J(s))}for(;I.brackets>0;){if(!0===n.strictBrackets)throw new SyntaxError(h("closing","]"));I.output=r.escapeLast(I.output,"["),X("brackets")}for(;I.parens>0;){if(!0===n.strictBrackets)throw new SyntaxError(h("closing",")"));I.output=r.escapeLast(I.output,"("),X("parens")}for(;I.braces>0;){if(!0===n.strictBrackets)throw new SyntaxError(h("closing","}"));I.output=r.escapeLast(I.output,"{"),X("braces")}if(!0===n.strictSlashes||"star"!==U.type&&"bracket"!==U.type||J({type:"maybe_slash",value:"",output:`${v}?`}),!0===I.backtrack){I.output="";for(const e of I.tokens)I.output+=null!=e.output?e.output:e.value,e.suffix&&(I.output+=e.suffix)}return I};d.fastpaths=(e,t)=>{const n={...t},a="number"==typeof n.maxLength?Math.min(i,n.maxLength):i,o=e.length;if(o>a)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${a}`);e=l[e]||e;const c=r.isWindows(t),{DOT_LITERAL:u,SLASH_LITERAL:h,ONE_CHAR:d,DOTS_SLASH:p,NO_DOT:f,NO_DOTS:y,NO_DOTS_SLASH:m,STAR:w,START_ANCHOR:g}=s.globChars(c),_=n.dot?y:f,E=n.dot?m:f,S=n.capture?"":"?:";let b=!0===n.bash?".*?":w;n.capture&&(b=`(${b})`);const v=e=>!0===e.noglobstar?b:`(${S}(?:(?!${g}${e.dot?p:u}).)*?)`,A=e=>{switch(e){case"*":return`${_}${d}${b}`;case".*":return`${u}${d}${b}`;case"*.*":return`${_}${b}${u}${d}${b}`;case"*/*":return`${_}${b}${h}${d}${E}${b}`;case"**":return _+v(n);case"**/*":return`(?:${_}${v(n)}${h})?${E}${d}${b}`;case"**/*.*":return`(?:${_}${v(n)}${h})?${E}${b}${u}${d}${b}`;case"**/.*":return`(?:${_}${v(n)}${h})?${u}${d}${b}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const n=A(t[1]);if(!n)return;return n+u+t[2]}}},C=r.removePrefix(e,{negated:!1,prefix:""});let R=A(C);return R&&!0!==n.strictSlashes&&(R+=`${h}?`),R},e.exports=d},1236:(e,t)=>{"use strict";t.fromCallback=function(e){return Object.defineProperty(function(...t){if("function"!=typeof t[t.length-1])return new Promise((n,s)=>{t.push((e,t)=>null!=e?s(e):n(t)),e.apply(this,t)});e.apply(this,t)},"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty(function(...t){const n=t[t.length-1];if("function"!=typeof n)return e.apply(this,t);t.pop(),e.apply(this,t).then(e=>n(null,e),n)},"name",{value:e.name})}},1283:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var n={__proto__:t(e)};else n=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n};var t=Object.getPrototypeOf||function(e){return e.__proto__}},1341:e=>{e.exports=function(e){if("string"!=typeof e||""===e)return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}},1493:(e,t,n)=>{e.exports=n(6548)},1522:(e,t,n)=>{"use strict";const s=n(1236).fromPromise,r=n(6928),i=n(8737),a=n(3798),{pathExists:o}=n(9288),{areIdentical:c}=n(6462);e.exports={createLink:s(async function(e,t){let n,s;try{n=await i.lstat(t)}catch{}try{s=await i.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}if(n&&c(s,n))return;const l=r.dirname(t);await o(l)||await a.mkdirs(l),await i.link(e,t)}),createLinkSync:function(e,t){let n;try{n=i.lstatSync(t)}catch{}try{const t=i.lstatSync(e);if(n&&c(t,n))return}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const s=r.dirname(t);return i.existsSync(s)||a.mkdirsSync(s),i.linkSync(e,t)}}},1605:(e,t,n)=>{"use strict";e.exports={...n(8737),...n(4423),...n(2591),...n(6288),...n(3376),...n(3798),...n(2455),...n(7024),...n(9288),...n(5422)}},1929:e=>{"use strict";e.exports=function(e){return"number"==typeof e?e-e===0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))}},1995:(e,t,n)=>{var s=n(2203).Stream;e.exports=function(e){return{ReadStream:function t(n,r){if(!(this instanceof t))return new t(n,r);s.call(this);var i=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,r=r||{};for(var a=Object.keys(r),o=0,c=a.length;o<c;o++){var l=a[o];this[l]=r[l]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,function(e,t){if(e)return i.emit("error",e),void(i.readable=!1);i.fd=t,i.emit("open",t),i._read()}):process.nextTick(function(){i._read()})},WriteStream:function t(n,r){if(!(this instanceof t))return new t(n,r);s.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,r=r||{};for(var i=Object.keys(r),a=0,o=i.length;a<o;a++){var c=i[a];this[c]=r[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},2188:(e,t,n)=>{"use strict";const{stringify:s}=n(1144),{outputFileSync:r}=n(7024);e.exports=function(e,t,n){const i=s(t,n);r(e,i,n)}},2203:e=>{"use strict";e.exports=require("stream")},2382:(e,t,n)=>{var s=n(1341),r={"{":"}","(":")","[":"]"},i=function(e){if("!"===e[0])return!0;for(var t=0,n=-2,s=-2,i=-2,a=-2,o=-2;t<e.length;){if("*"===e[t])return!0;if("?"===e[t+1]&&/[\].+)]/.test(e[t]))return!0;if(-1!==s&&"["===e[t]&&"]"!==e[t+1]&&(s<t&&(s=e.indexOf("]",t)),s>t)){if(-1===o||o>s)return!0;if(-1===(o=e.indexOf("\\",t))||o>s)return!0}if(-1!==i&&"{"===e[t]&&"}"!==e[t+1]&&(i=e.indexOf("}",t))>t&&(-1===(o=e.indexOf("\\",t))||o>i))return!0;if(-1!==a&&"("===e[t]&&"?"===e[t+1]&&/[:!=]/.test(e[t+2])&&")"!==e[t+3]&&(a=e.indexOf(")",t))>t&&(-1===(o=e.indexOf("\\",t))||o>a))return!0;if(-1!==n&&"("===e[t]&&"|"!==e[t+1]&&(n<t&&(n=e.indexOf("|",t)),-1!==n&&")"!==e[n+1]&&(a=e.indexOf(")",n))>n&&(-1===(o=e.indexOf("\\",n))||o>a)))return!0;if("\\"===e[t]){var c=e[t+1];t+=2;var l=r[c];if(l){var u=e.indexOf(l,t);-1!==u&&(t=u+1)}if("!"===e[t])return!0}else t++}return!1},a=function(e){if("!"===e[0])return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if("\\"===e[t]){var n=e[t+1];t+=2;var s=r[n];if(s){var i=e.indexOf(s,t);-1!==i&&(t=i+1)}if("!"===e[t])return!0}else t++}return!1};e.exports=function(e,t){if("string"!=typeof e||""===e)return!1;if(s(e))return!0;var n=i;return t&&!1===t.strict&&(n=a),n(e)}},2455:(e,t,n)=>{"use strict";const s=n(1236).fromPromise;e.exports={move:s(n(3314)),moveSync:n(6244)}},2578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(5157),r=n(4100),i={returnIndex:!1},a=(e,t,n,s)=>{const i=Array.isArray(n),a=i?n[0]:n;if(!i&&"string"!=typeof a)throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(a));const o=r(a,!1);for(let e=0;e<t.length;e++)if((0,t[e])(o))return!!s&&-1;const c=i&&[o].concat(n.slice(1));for(let t=0;t<e.length;t++){const n=e[t];if(i?n(...c):n(o))return!s||t}return!!s&&-1},o=(e,t,n=i)=>{if(null==e)throw new TypeError("anymatch: specify first argument");const r="boolean"==typeof n?{returnIndex:n}:n,o=r.returnIndex||!1,c=(l=e,Array.isArray(l)?l:[l]);var l;const u=c.filter(e=>"string"==typeof e&&"!"===e.charAt(0)).map(e=>e.slice(1)).map(e=>s(e,r)),h=c.filter(e=>"string"!=typeof e||"string"==typeof e&&"!"!==e.charAt(0)).map(e=>((e,t)=>{if("function"==typeof e)return e;if("string"==typeof e){const n=s(e,t);return t=>e===t||n(t)}return e instanceof RegExp?t=>e.test(t):e=>!1})(e,r));return null==t?(e,t=!1)=>a(h,u,e,"boolean"==typeof t&&t):a(h,u,t,o)};o.default=o,e.exports=o},2591:(e,t,n)=>{"use strict";const s=n(1236).fromPromise,r=n(8737),i=n(6928),a=n(3798),o=n(5422),c=s(async function(e){let t;try{t=await r.readdir(e)}catch{return a.mkdirs(e)}return Promise.all(t.map(t=>o.remove(i.join(e,t))))});function l(e){let t;try{t=r.readdirSync(e)}catch{return a.mkdirsSync(e)}t.forEach(t=>{t=i.join(e,t),o.removeSync(t)})}e.exports={emptyDirSync:l,emptydirSync:l,emptyDir:c,emptydir:c}},2598:(e,t,n)=>{"use strict";const s=n(3720),{MAX_LENGTH:r,CHAR_BACKSLASH:i,CHAR_BACKTICK:a,CHAR_COMMA:o,CHAR_DOT:c,CHAR_LEFT_PARENTHESES:l,CHAR_RIGHT_PARENTHESES:u,CHAR_LEFT_CURLY_BRACE:h,CHAR_RIGHT_CURLY_BRACE:d,CHAR_LEFT_SQUARE_BRACKET:p,CHAR_RIGHT_SQUARE_BRACKET:f,CHAR_DOUBLE_QUOTE:y,CHAR_SINGLE_QUOTE:m,CHAR_NO_BREAK_SPACE:w,CHAR_ZERO_WIDTH_NOBREAK_SPACE:g}=n(8776);e.exports=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");const n=t||{},_="number"==typeof n.maxLength?Math.min(r,n.maxLength):r;if(e.length>_)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${_})`);const E={type:"root",input:e,nodes:[]},S=[E];let b=E,v=E,A=0;const C=e.length;let R,x=0,T=0;const k=()=>e[x++],M=e=>{if("text"===e.type&&"dot"===v.type&&(v.type="text"),!v||"text"!==v.type||"text"!==e.type)return b.nodes.push(e),e.parent=b,e.prev=v,v=e,e;v.value+=e.value};for(M({type:"bos"});x<C;)if(b=S[S.length-1],R=k(),R!==g&&R!==w)if(R!==i)if(R!==f){if(R===p){let e;for(A++;x<C&&(e=k());)if(R+=e,e!==p)if(e!==i){if(e===f&&(A--,0===A))break}else R+=k();else A++;M({type:"text",value:R});continue}if(R!==l)if(R!==u){if(R===y||R===m||R===a){const e=R;let n;for(!0!==t.keepQuotes&&(R="");x<C&&(n=k());)if(n!==i){if(n===e){!0===t.keepQuotes&&(R+=n);break}R+=n}else R+=n+k();M({type:"text",value:R});continue}if(R===h){T++;const e=v.value&&"$"===v.value.slice(-1)||!0===b.dollar;b=M({type:"brace",open:!0,close:!1,dollar:e,depth:T,commas:0,ranges:0,nodes:[]}),S.push(b),M({type:"open",value:R});continue}if(R===d){if("brace"!==b.type){M({type:"text",value:R});continue}const e="close";b=S.pop(),b.close=!0,M({type:e,value:R}),T--,b=S[S.length-1];continue}if(R===o&&T>0){if(b.ranges>0){b.ranges=0;const e=b.nodes.shift();b.nodes=[e,{type:"text",value:s(b)}]}M({type:"comma",value:R}),b.commas++}else{if(R===c&&T>0&&0===b.commas){const e=b.nodes;if(0===T||0===e.length){M({type:"text",value:R});continue}if("dot"===v.type){if(b.range=[],v.value+=R,v.type="range",3!==b.nodes.length&&5!==b.nodes.length){b.invalid=!0,b.ranges=0,v.type="text";continue}b.ranges++,b.args=[];continue}if("range"===v.type){e.pop();const t=e[e.length-1];t.value+=v.value+R,v=t,b.ranges--;continue}M({type:"dot",value:R});continue}M({type:"text",value:R})}}else{if("paren"!==b.type){M({type:"text",value:R});continue}b=S.pop(),M({type:"text",value:R}),b=S[S.length-1]}else b=M({type:"paren",nodes:[]}),S.push(b),M({type:"text",value:R})}else M({type:"text",value:"\\"+R});else M({type:"text",value:(t.keepEscaping?R:"")+k()});do{if(b=S.pop(),"root"!==b.type){b.nodes.forEach(e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)});const e=S[S.length-1],t=e.nodes.indexOf(b);e.nodes.splice(t,1,...b.nodes)}}while(S.length>0);return M({type:"eos"}),E}},2608:(e,t,n)=>{"use strict";const s=n(280),{CHAR_ASTERISK:r,CHAR_AT:i,CHAR_BACKWARD_SLASH:a,CHAR_COMMA:o,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:l,CHAR_FORWARD_SLASH:u,CHAR_LEFT_CURLY_BRACE:h,CHAR_LEFT_PARENTHESES:d,CHAR_LEFT_SQUARE_BRACKET:p,CHAR_PLUS:f,CHAR_QUESTION_MARK:y,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:w,CHAR_RIGHT_SQUARE_BRACKET:g}=n(3940),_=e=>e===u||e===a,E=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};e.exports=(e,t)=>{const n=t||{},S=e.length-1,b=!0===n.parts||!0===n.scanToEnd,v=[],A=[],C=[];let R,x,T=e,k=-1,M=0,O=0,F=!1,P=!1,D=!1,N=!1,L=!1,I=!1,H=!1,$=!1,W=!1,j=!1,U=0,B={value:"",depth:0,isGlob:!1};const G=()=>k>=S,z=()=>T.charCodeAt(k+1),K=()=>(R=x,T.charCodeAt(++k));for(;k<S;){let e;if(x=K(),x!==a){if(!0===I||x===h){for(U++;!0!==G()&&(x=K());)if(x!==a)if(x!==h){if(!0!==I&&x===c&&(x=K())===c){if(F=B.isBrace=!0,D=B.isGlob=!0,j=!0,!0===b)continue;break}if(!0!==I&&x===o){if(F=B.isBrace=!0,D=B.isGlob=!0,j=!0,!0===b)continue;break}if(x===m&&(U--,0===U)){I=!1,F=B.isBrace=!0,j=!0;break}}else U++;else H=B.backslashes=!0,K();if(!0===b)continue;break}if(x!==u){if(!0!==n.noext&&!0==(x===f||x===i||x===r||x===y||x===l)&&z()===d){if(D=B.isGlob=!0,N=B.isExtglob=!0,j=!0,x===l&&k===M&&(W=!0),!0===b){for(;!0!==G()&&(x=K());)if(x!==a){if(x===w){D=B.isGlob=!0,j=!0;break}}else H=B.backslashes=!0,x=K();continue}break}if(x===r){if(R===r&&(L=B.isGlobstar=!0),D=B.isGlob=!0,j=!0,!0===b)continue;break}if(x===y){if(D=B.isGlob=!0,j=!0,!0===b)continue;break}if(x===p){for(;!0!==G()&&(e=K());)if(e!==a){if(e===g){P=B.isBracket=!0,D=B.isGlob=!0,j=!0;break}}else H=B.backslashes=!0,K();if(!0===b)continue;break}if(!0===n.nonegate||x!==l||k!==M){if(!0!==n.noparen&&x===d){if(D=B.isGlob=!0,!0===b){for(;!0!==G()&&(x=K());)if(x!==d){if(x===w){j=!0;break}}else H=B.backslashes=!0,x=K();continue}break}if(!0===D){if(j=!0,!0===b)continue;break}}else $=B.negated=!0,M++}else{if(v.push(k),A.push(B),B={value:"",depth:0,isGlob:!1},!0===j)continue;if(R===c&&k===M+1){M+=2;continue}O=k+1}}else H=B.backslashes=!0,x=K(),x===h&&(I=!0)}!0===n.noext&&(N=!1,D=!1);let V=T,Y="",q="";M>0&&(Y=T.slice(0,M),T=T.slice(M),O-=M),V&&!0===D&&O>0?(V=T.slice(0,O),q=T.slice(O)):!0===D?(V="",q=T):V=T,V&&""!==V&&"/"!==V&&V!==T&&_(V.charCodeAt(V.length-1))&&(V=V.slice(0,-1)),!0===n.unescape&&(q&&(q=s.removeBackslashes(q)),V&&!0===H&&(V=s.removeBackslashes(V)));const Q={prefix:Y,input:e,start:M,base:V,glob:q,isBrace:F,isBracket:P,isGlob:D,isExtglob:N,isGlobstar:L,negated:$,negatedExtglob:W};if(!0===n.tokens&&(Q.maxDepth=0,_(x)||A.push(B),Q.tokens=A),!0===n.parts||!0===n.tokens){let t;for(let s=0;s<v.length;s++){const r=t?t+1:M,i=v[s],a=e.slice(r,i);n.tokens&&(0===s&&0!==M?(A[s].isPrefix=!0,A[s].value=Y):A[s].value=a,E(A[s]),Q.maxDepth+=A[s].depth),0===s&&""===a||C.push(a),t=i}if(t&&t+1<e.length){const s=e.slice(t+1);C.push(s),n.tokens&&(A[A.length-1].value=s,E(A[A.length-1]),Q.maxDepth+=A[A.length-1].depth)}Q.slashes=v,Q.parts=C}return Q}},2613:e=>{"use strict";e.exports=require("assert")},2909:(e,t,n)=>{let s;try{s=n(3735)}catch(e){s=n(9896)}const r=n(1236),{stringify:i,stripBom:a}=n(1144),o=r.fromPromise(async function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||s,i=!("throws"in t)||t.throws;let o,c=await r.fromCallback(n.readFile)(e,t);c=a(c);try{o=JSON.parse(c,t?t.reviver:null)}catch(t){if(i)throw t.message=`${e}: ${t.message}`,t;return null}return o}),c=r.fromPromise(async function(e,t,n={}){const a=n.fs||s,o=i(t,n);await r.fromCallback(a.writeFile)(e,o,n)});e.exports={readFile:o,readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||s,r=!("throws"in t)||t.throws;try{let s=n.readFileSync(e,t);return s=a(s),JSON.parse(s,t.reviver)}catch(t){if(r)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:c,writeFileSync:function(e,t,n={}){const r=n.fs||s,a=i(t,n);return r.writeFileSync(e,a,n)}}},2934:(e,t,n)=>{"use strict";const s=n(2909);e.exports={readJson:s.readFile,readJsonSync:s.readFileSync,writeJson:s.writeFile,writeJsonSync:s.writeFileSync}},3314:(e,t,n)=>{"use strict";const s=n(8737),r=n(6928),{copy:i}=n(4423),{remove:a}=n(5422),{mkdirp:o}=n(3798),{pathExists:c}=n(9288),l=n(6462);e.exports=async function(e,t,n={}){const u=n.overwrite||n.clobber||!1,{srcStat:h,isChangingCase:d=!1}=await l.checkPaths(e,t,"move",n);await l.checkParentPaths(e,h,t,"move");const p=r.dirname(t);return r.parse(p).root!==p&&await o(p),async function(e,t,n,r){if(!r)if(n)await a(t);else if(await c(t))throw new Error("dest already exists.");try{await s.rename(e,t)}catch(s){if("EXDEV"!==s.code)throw s;await async function(e,t,n){const s={overwrite:n,errorOnExist:!0,preserveTimestamps:!0};return await i(e,t,s),a(e)}(e,t,n)}}(e,t,u,d)}},3376:(e,t,n)=>{"use strict";const s=n(1236).fromPromise,r=n(2934);r.outputJson=s(n(6426)),r.outputJsonSync=n(2188),r.outputJSON=r.outputJson,r.outputJSONSync=r.outputJsonSync,r.writeJSON=r.writeJson,r.writeJSONSync=r.writeJsonSync,r.readJSON=r.readJson,r.readJSONSync=r.readJsonSync,e.exports=r},3720:(e,t,n)=>{"use strict";const s=n(7612);e.exports=(e,t={})=>{const n=(e,r={})=>{const i=t.escapeInvalid&&s.isInvalidBrace(r),a=!0===e.invalid&&!0===t.escapeInvalid;let o="";if(e.value)return(i||a)&&s.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(const t of e.nodes)o+=n(t);return o};return n(e)}},3735:(e,t,n)=>{var s,r,i=n(9896),a=n(9106),o=n(1995),c=n(1283),l=n(9023);function u(e,t){Object.defineProperty(e,s,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(s=Symbol.for("graceful-fs.queue"),r=Symbol.for("graceful-fs.previous")):(s="___graceful-fs.queue",r="___graceful-fs.previous");var h,d=function(){};if(l.debuglog?d=l.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(d=function(){var e=l.format.apply(l,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!i[s]){var p=global[s]||[];u(i,p),i.close=function(e){function t(t,n){return e.call(i,t,function(e){e||m(),"function"==typeof n&&n.apply(this,arguments)})}return Object.defineProperty(t,r,{value:e}),t}(i.close),i.closeSync=function(e){function t(t){e.apply(i,arguments),m()}return Object.defineProperty(t,r,{value:e}),t}(i.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){d(i[s]),n(2613).equal(i[s].length,0)})}function f(e){a(e),e.gracefulify=f,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var t=e.readFile;e.readFile=function(e,n,s){return"function"==typeof n&&(s=n,n=null),function e(n,s,r,i){return t(n,s,function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof r&&r.apply(this,arguments):y([e,[n,s,r],t,i||Date.now(),Date.now()])})}(e,n,s)};var n=e.writeFile;e.writeFile=function(e,t,s,r){return"function"==typeof s&&(r=s,s=null),function e(t,s,r,i,a){return n(t,s,r,function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof i&&i.apply(this,arguments):y([e,[t,s,r,i],n,a||Date.now(),Date.now()])})}(e,t,s,r)};var s=e.appendFile;s&&(e.appendFile=function(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,i,a){return s(t,n,r,function(s){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof i&&i.apply(this,arguments):y([e,[t,n,r,i],s,a||Date.now(),Date.now()])})}(e,t,n,r)});var r=e.copyFile;r&&(e.copyFile=function(e,t,n,s){return"function"==typeof n&&(s=n,n=0),function e(t,n,s,i,a){return r(t,n,s,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof i&&i.apply(this,arguments):y([e,[t,n,s,i],r,a||Date.now(),Date.now()])})}(e,t,n,s)});var i=e.readdir;e.readdir=function(e,t,n){"function"==typeof t&&(n=t,t=null);var s=c.test(process.version)?function(e,t,n,s){return i(e,r(e,t,n,s))}:function(e,t,n,s){return i(e,t,r(e,t,n,s))};return s(e,t,n);function r(e,t,n,r){return function(i,a){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?(a&&a.sort&&a.sort(),"function"==typeof n&&n.call(this,i,a)):y([s,[e,t,n],i,r||Date.now(),Date.now()])}}};var c=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var l=o(e);m=l.ReadStream,w=l.WriteStream}var u=e.ReadStream;u&&(m.prototype=Object.create(u.prototype),m.prototype.open=function(){var e=this;_(e.path,e.flags,e.mode,function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())})});var h=e.WriteStream;h&&(w.prototype=Object.create(h.prototype),w.prototype.open=function(){var e=this;_(e.path,e.flags,e.mode,function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))})}),Object.defineProperty(e,"ReadStream",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return w},set:function(e){w=e},enumerable:!0,configurable:!0});var d=m;Object.defineProperty(e,"FileReadStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0});var p=w;function m(e,t){return this instanceof m?(u.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}function w(e,t){return this instanceof w?(h.apply(this,arguments),this):w.apply(Object.create(w.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return p},set:function(e){p=e},enumerable:!0,configurable:!0});var g=e.open;function _(e,t,n,s){return"function"==typeof n&&(s=n,n=null),function e(t,n,s,r,i){return g(t,n,s,function(a,o){!a||"EMFILE"!==a.code&&"ENFILE"!==a.code?"function"==typeof r&&r.apply(this,arguments):y([e,[t,n,s,r],a,i||Date.now(),Date.now()])})}(e,t,n,s)}return e.open=_,e}function y(e){d("ENQUEUE",e[0].name,e[1]),i[s].push(e),w()}function m(){for(var e=Date.now(),t=0;t<i[s].length;++t)i[s][t].length>2&&(i[s][t][3]=e,i[s][t][4]=e);w()}function w(){if(clearTimeout(h),h=void 0,0!==i[s].length){var e=i[s].shift(),t=e[0],n=e[1],r=e[2],a=e[3],o=e[4];if(void 0===a)d("RETRY",t.name,n),t.apply(null,n);else if(Date.now()-a>=6e4){d("TIMEOUT",t.name,n);var c=n.pop();"function"==typeof c&&c.call(null,r)}else{var l=Date.now()-o,u=Math.max(o-a,1);l>=Math.min(1.2*u,100)?(d("RETRY",t.name,n),t.apply(null,n.concat([a]))):i[s].push(e)}void 0===h&&(h=setTimeout(w,0))}}global[s]||u(global,i[s]),e.exports=f(c(i)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!i.__patched&&(e.exports=f(i),i.__patched=!0)},3798:(e,t,n)=>{"use strict";const s=n(1236).fromPromise,{makeDir:r,makeDirSync:i}=n(8916),a=s(r);e.exports={mkdirs:a,mkdirsSync:i,mkdirp:a,mkdirpSync:i,ensureDir:a,ensureDirSync:i}},3838:(e,t,n)=>{"use strict";const s=n(6928),r=n(8737),{pathExists:i}=n(9288),a=n(1236).fromPromise;e.exports={symlinkPaths:a(async function(e,t){if(s.isAbsolute(e)){try{await r.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureSymlink"),e}return{toCwd:e,toDst:e}}const n=s.dirname(t),a=s.join(n,e);if(await i(a))return{toCwd:a,toDst:e};try{await r.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureSymlink"),e}return{toCwd:e,toDst:s.relative(n,e)}}),symlinkPathsSync:function(e,t){if(s.isAbsolute(e)){if(!r.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}const n=s.dirname(t),i=s.join(n,e);if(r.existsSync(i))return{toCwd:i,toDst:e};if(!r.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:s.relative(n,e)}}}},3843:(e,t,n)=>{"use strict";const s=n(6928),r=n(1493),i=new Set(r);e.exports=e=>i.has(s.extname(e).slice(1).toLowerCase())},3876:(e,t,n)=>{"use strict";const s=n(3735),r=n(6928),i=n(3798).mkdirsSync,a=n(7211).utimesMillisSync,o=n(6462);function c(e,t,n,i){const a=(i.dereference?s.statSync:s.lstatSync)(t);if(a.isDirectory())return function(e,t,n,r,i){return t?h(n,r,i):function(e,t,n,r){return s.mkdirSync(n),h(t,n,r),u(n,e)}(e.mode,n,r,i)}(a,e,t,n,i);if(a.isFile()||a.isCharacterDevice()||a.isBlockDevice())return function(e,t,n,r,i){return t?function(e,t,n,r){if(r.overwrite)return s.unlinkSync(n),l(e,t,n,r);if(r.errorOnExist)throw new Error(`'${n}' already exists`)}(e,n,r,i):l(e,n,r,i)}(a,e,t,n,i);if(a.isSymbolicLink())return function(e,t,n,i){let a=s.readlinkSync(t);if(i.dereference&&(a=r.resolve(process.cwd(),a)),e){let e;try{e=s.readlinkSync(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return s.symlinkSync(a,n);throw e}if(i.dereference&&(e=r.resolve(process.cwd(),e)),o.isSrcSubdir(a,e))throw new Error(`Cannot copy '${a}' to a subdirectory of itself, '${e}'.`);if(o.isSrcSubdir(e,a))throw new Error(`Cannot overwrite '${e}' with '${a}'.`);return function(e,t){return s.unlinkSync(t),s.symlinkSync(e,t)}(a,n)}return s.symlinkSync(a,n)}(e,t,n,i);if(a.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(a.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}function l(e,t,n,r){return s.copyFileSync(t,n),r.preserveTimestamps&&function(e,t,n){(function(e){return!(128&e)})(e)&&function(e,t){u(e,128|t)}(n,e),function(e,t){const n=s.statSync(e);a(t,n.atime,n.mtime)}(t,n)}(e.mode,t,n),u(n,e.mode)}function u(e,t){return s.chmodSync(e,t)}function h(e,t,n){const r=s.opendirSync(e);try{let s;for(;null!==(s=r.readSync());)d(s.name,e,t,n)}finally{r.closeSync()}}function d(e,t,n,s){const i=r.join(t,e),a=r.join(n,e);if(s.filter&&!s.filter(i,a))return;const{destStat:l}=o.checkPathsSync(i,a,"copy",s);return c(l,i,a,s)}e.exports=function(e,t,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:a,destStat:l}=o.checkPathsSync(e,t,"copy",n);if(o.checkParentPathsSync(e,a,t,"copy"),n.filter&&!n.filter(e,t))return;const u=r.dirname(t);return s.existsSync(u)||i(u),c(l,e,t,n)}},3940:(e,t,n)=>{"use strict";const s=n(6928),r="\\\\/",i=`[^${r}]`,a="\\.",o="\\/",c="[^/]",l=`(?:${o}|$)`,u=`(?:^|${o})`,h=`${a}{1,2}${l}`,d={DOT_LITERAL:a,PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:o,ONE_CHAR:"(?=.)",QMARK:c,END_ANCHOR:l,DOTS_SLASH:h,NO_DOT:`(?!${a})`,NO_DOTS:`(?!${u}${h})`,NO_DOT_SLASH:`(?!${a}{0,1}${l})`,NO_DOTS_SLASH:`(?!${h})`,QMARK_NO_DOT:`[^.${o}]`,STAR:`${c}*?`,START_ANCHOR:u},p={...d,SLASH_LITERAL:`[${r}]`,QMARK:i,STAR:`${i}*?`,DOTS_SLASH:`${a}{1,2}(?:[${r}]|$)`,NO_DOT:`(?!${a})`,NO_DOTS:`(?!(?:^|[${r}])${a}{1,2}(?:[${r}]|$))`,NO_DOT_SLASH:`(?!${a}{0,1}(?:[${r}]|$))`,NO_DOTS_SLASH:`(?!${a}{1,2}(?:[${r}]|$))`,QMARK_NO_DOT:`[^.${r}]`,START_ANCHOR:`(?:^|[${r}])`,END_ANCHOR:`(?:[${r}]|$)`};e.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:s.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?p:d}},4100:e=>{e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected path to be a string");if("\\"===e||"/"===e)return"/";var n=e.length;if(n<=1)return e;var s="";if(n>4&&"\\"===e[3]){var r=e[2];"?"!==r&&"."!==r||"\\\\"!==e.slice(0,2)||(e=e.slice(2),s="//")}var i=e.split(/[/\\]+/);return!1!==t&&""===i[i.length-1]&&i.pop(),s+i.join("/")}},4423:(e,t,n)=>{"use strict";const s=n(1236).fromPromise;e.exports={copy:s(n(4994)),copySync:n(3876)}},4434:e=>{"use strict";e.exports=require("events")},4537:(e,t,n)=>{"use strict";const s=n(3720),r=n(8712),i=n(8697),a=n(2598),o=(e,t={})=>{let n=[];if(Array.isArray(e))for(const s of e){const e=o.create(s,t);Array.isArray(e)?n.push(...e):n.push(e)}else n=[].concat(o.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(n=[...new Set(n)]),n};o.parse=(e,t={})=>a(e,t),o.stringify=(e,t={})=>s("string"==typeof e?o.parse(e,t):e,t),o.compile=(e,t={})=>("string"==typeof e&&(e=o.parse(e,t)),r(e,t)),o.expand=(e,t={})=>{"string"==typeof e&&(e=o.parse(e,t));let n=i(e,t);return!0===t.noempty&&(n=n.filter(Boolean)),!0===t.nodupes&&(n=[...new Set(n)]),n},o.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?o.compile(e,t):o.expand(e,t),e.exports=o},4994:(e,t,n)=>{"use strict";const s=n(8737),r=n(6928),{mkdirs:i}=n(3798),{pathExists:a}=n(9288),{utimesMillis:o}=n(7211),c=n(6462),{asyncIteratorConcurrentProcess:l}=n(6322);async function u(e,t,n){return!n.filter||n.filter(e,t)}async function h(e,t,n,i){const a=i.dereference?s.stat:s.lstat,o=await a(t);if(o.isDirectory())return async function(e,t,n,i,a){t||await s.mkdir(i),await l(await s.opendir(n),async e=>{const t=r.join(n,e.name),s=r.join(i,e.name);if(await u(t,s,a)){const{destStat:e}=await c.checkPaths(t,s,"copy",a);await h(e,t,s,a)}}),t||await s.chmod(i,e.mode)}(o,e,t,n,i);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return async function(e,t,n,r,i){if(!t)return d(e,n,r,i);if(i.overwrite)return await s.unlink(r),d(e,n,r,i);if(i.errorOnExist)throw new Error(`'${r}' already exists`)}(o,e,t,n,i);if(o.isSymbolicLink())return async function(e,t,n,i){let a=await s.readlink(t);if(i.dereference&&(a=r.resolve(process.cwd(),a)),!e)return s.symlink(a,n);let o=null;try{o=await s.readlink(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return s.symlink(a,n);throw e}if(i.dereference&&(o=r.resolve(process.cwd(),o)),c.isSrcSubdir(a,o))throw new Error(`Cannot copy '${a}' to a subdirectory of itself, '${o}'.`);if(c.isSrcSubdir(o,a))throw new Error(`Cannot overwrite '${o}' with '${a}'.`);return await s.unlink(n),s.symlink(a,n)}(e,t,n,i);if(o.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(o.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}async function d(e,t,n,r){if(await s.copyFile(t,n),r.preserveTimestamps){128&e.mode||await function(e,t){return s.chmod(e,128|t)}(n,e.mode);const r=await s.stat(t);await o(n,r.atime,r.mtime)}return s.chmod(n,e.mode)}e.exports=async function(e,t,n={}){"function"==typeof n&&(n={filter:n}),n.clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001");const{srcStat:s,destStat:o}=await c.checkPaths(e,t,"copy",n);if(await c.checkParentPaths(e,s,t,"copy"),!await u(e,t,n))return;const l=r.dirname(t);await a(l)||await i(l),await h(o,e,t,n)}},5157:(e,t,n)=>{"use strict";e.exports=n(6675)},5291:(e,t,n)=>{"use strict";const s=n(1236).fromPromise,r=n(6928),i=n(8737),{mkdirs:a,mkdirsSync:o}=n(3798),{symlinkPaths:c,symlinkPathsSync:l}=n(3838),{symlinkType:u,symlinkTypeSync:h}=n(7064),{pathExists:d}=n(9288),{areIdentical:p}=n(6462);e.exports={createSymlink:s(async function(e,t,n){let s;try{s=await i.lstat(t)}catch{}if(s&&s.isSymbolicLink()){const[n,s]=await Promise.all([i.stat(e),i.stat(t)]);if(p(n,s))return}const o=await c(e,t);e=o.toDst;const l=await u(o.toCwd,n),h=r.dirname(t);return await d(h)||await a(h),i.symlink(e,t,l)}),createSymlinkSync:function(e,t,n){let s;try{s=i.lstatSync(t)}catch{}if(s&&s.isSymbolicLink()){const n=i.statSync(e),s=i.statSync(t);if(p(n,s))return}const a=l(e,t);e=a.toDst,n=h(a.toCwd,n);const c=r.dirname(t);return i.existsSync(c)||o(c),i.symlinkSync(e,t,n)}}},5422:(e,t,n)=>{"use strict";const s=n(3735),r=n(1236).fromCallback;e.exports={remove:r(function(e,t){s.rm(e,{recursive:!0,force:!0},t)}),removeSync:function(e){s.rmSync(e,{recursive:!0,force:!0})}}},5995:(e,t,n)=>{"use strict";const s=n(9896),r=n(6928),{promisify:i}=n(9023);let a;try{a=n(Object(function(){var e=new Error("Cannot find module 'fsevents'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(e)}if(a){const e=process.version.match(/v(\d+)\.(\d+)/);if(e&&e[1]&&e[2]){const t=Number.parseInt(e[1],10),n=Number.parseInt(e[2],10);8===t&&n<16&&(a=void 0)}}const{EV_ADD:o,EV_CHANGE:c,EV_ADD_DIR:l,EV_UNLINK:u,EV_ERROR:h,STR_DATA:d,STR_END:p,FSEVENT_CREATED:f,FSEVENT_MODIFIED:y,FSEVENT_DELETED:m,FSEVENT_MOVED:w,FSEVENT_UNKNOWN:g,FSEVENT_FLAG_MUST_SCAN_SUBDIRS:_,FSEVENT_TYPE_FILE:E,FSEVENT_TYPE_DIRECTORY:S,FSEVENT_TYPE_SYMLINK:b,ROOT_GLOBSTAR:v,DIR_SUFFIX:A,DOT_SLASH:C,FUNCTION_TYPE:R,EMPTY_FN:x,IDENTITY_FN:T}=n(6163),k=i(s.stat),M=i(s.lstat),O=i(s.realpath),F={stat:k,lstat:M},P=new Map,D=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),N=(e,t)=>({stop:a.watch(e,t)}),L=(e,t)=>{let n=0;for(;!e.indexOf(t)&&(e=r.dirname(e))!==t;)n++;return n},I=(e,t)=>e.type===S&&t.isDirectory()||e.type===b&&t.isSymbolicLink()||e.type===E&&t.isFile();e.exports=class{constructor(e){this.fsw=e}checkIgnored(e,t){const n=this.fsw._ignoredPaths;if(this.fsw._isIgnored(e,t))return n.add(e),t&&t.isDirectory()&&n.add(e+v),!0;n.delete(e),n.delete(e+v)}addOrChange(e,t,n,s,r,i,a,l){const u=r.has(i)?c:o;this.handleEvent(u,e,t,n,s,r,i,a,l)}async checkExists(e,t,n,s,r,i,a,o){try{const c=await k(e);if(this.fsw.closed)return;I(a,c)?this.addOrChange(e,t,n,s,r,i,a,o):this.handleEvent(u,e,t,n,s,r,i,a,o)}catch(c){"EACCES"===c.code?this.addOrChange(e,t,n,s,r,i,a,o):this.handleEvent(u,e,t,n,s,r,i,a,o)}}handleEvent(e,t,n,s,r,i,a,c,h){if(!this.fsw.closed&&!this.checkIgnored(t))if(e===u){const e=c.type===S;(e||i.has(a))&&this.fsw._remove(r,a,e)}else{if(e===o){if(c.type===S&&this.fsw._getWatchedDir(t),c.type===b&&h.followSymlinks){const e=void 0===h.depth?void 0:L(n,s)+1;return this._addToFsEvents(t,!1,!0,e)}this.fsw._getWatchedDir(r).add(a)}const i=c.type===S?e+A:e;this.fsw._emit(i,t),i===l&&this._addToFsEvents(t,!1,!0)}}_watchWithFsEvents(e,t,n,s){if(this.fsw.closed||this.fsw._isIgnored(e))return;const i=this.fsw.options,o=function(e,t,n,s){let i=r.extname(t)?r.dirname(t):t;const o=r.dirname(i);let c=P.get(i);(e=>{let t=0;for(const n of P.keys())if(0===n.indexOf(e)&&(t++,t>=10))return!0;return!1})(o)&&(i=o);const l=r.resolve(e),u=l!==t,h=(e,s,i)=>{u&&(e=e.replace(t,l)),e!==l&&e.indexOf(l+r.sep)||n(e,s,i)};let d=!1;for(const e of P.keys())if(0===t.indexOf(r.resolve(e)+r.sep)){i=e,c=P.get(i),d=!0;break}return c||d?c.listeners.add(h):(c={listeners:new Set([h]),rawEmitter:s,watcher:N(i,(e,t)=>{if(!c.listeners.size)return;if(t&_)return;const n=a.getInfo(e,t);c.listeners.forEach(s=>{s(e,t,n)}),c.rawEmitter(n.event,e,n)})},P.set(i,c)),()=>{const e=c.listeners;if(e.delete(h),!e.size&&(P.delete(i),c.watcher))return c.watcher.stop().then(()=>{c.rawEmitter=c.watcher=void 0,Object.freeze(c)})}}(e,t,async(a,o,c)=>{if(this.fsw.closed)return;if(void 0!==i.depth&&L(a,t)>i.depth)return;const l=n(r.join(e,r.relative(e,a)));if(s&&!s(l))return;const h=r.dirname(l),d=r.basename(l),p=this.fsw._getWatchedDir(c.type===S?l:h);if(D.has(o)||c.event===g)if(typeof i.ignored===R){let e;try{e=await k(l)}catch(e){}if(this.fsw.closed)return;if(this.checkIgnored(l,e))return;I(c,e)?this.addOrChange(l,a,t,h,p,d,c,i):this.handleEvent(u,l,a,t,h,p,d,c,i)}else this.checkExists(l,a,t,h,p,d,c,i);else switch(c.event){case f:case y:return this.addOrChange(l,a,t,h,p,d,c,i);case m:case w:return this.checkExists(l,a,t,h,p,d,c,i)}},this.fsw._emitRaw);return this.fsw._emitReady(),o}async _handleFsEventsSymlink(e,t,n,s){if(!this.fsw.closed&&!this.fsw._symlinkPaths.has(t)){this.fsw._symlinkPaths.set(t,!0),this.fsw._incrReadyCount();try{const t=await O(e);if(this.fsw.closed)return;if(this.fsw._isIgnored(t))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(t||e,s=>{let i=e;return t&&t!==C?i=s.replace(t,e):s!==C&&(i=r.join(e,s)),n(i)},!1,s)}catch(e){if(this.fsw._handleError(e))return this.fsw._emitReady()}}}emitAdd(e,t,n,s,i){const a=n(e),c=t.isDirectory(),u=this.fsw._getWatchedDir(r.dirname(a)),h=r.basename(a);c&&this.fsw._getWatchedDir(a),u.has(h)||(u.add(h),s.ignoreInitial&&!0!==i||this.fsw._emit(c?l:o,a,t))}initWatch(e,t,n,s){if(this.fsw.closed)return;const i=this._watchWithFsEvents(n.watchPath,r.resolve(e||n.watchPath),s,n.globFilter);this.fsw._addPathCloser(t,i)}async _addToFsEvents(e,t,n,s){if(this.fsw.closed)return;const i=this.fsw.options,a=typeof t===R?t:T,o=this.fsw._getWatchHelpers(e);try{const t=await F[o.statMethod](o.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(o.watchPath,t))throw null;if(t.isDirectory()){if(o.globFilter||this.emitAdd(a(e),t,a,i,n),s&&s>i.depth)return;this.fsw._readdirp(o.watchPath,{fileFilter:e=>o.filterPath(e),directoryFilter:e=>o.filterDir(e),...(c=i.depth-(s||0),isNaN(c)?{}:{depth:c})}).on(d,e=>{if(this.fsw.closed)return;if(e.stats.isDirectory()&&!o.filterPath(e))return;const t=r.join(o.watchPath,e.path),{fullPath:s}=e;if(o.followSymlinks&&e.stats.isSymbolicLink()){const e=void 0===i.depth?void 0:L(t,r.resolve(o.watchPath))+1;this._handleFsEventsSymlink(t,s,a,e)}else this.emitAdd(t,e.stats,a,i,n)}).on(h,x).on(p,()=>{this.fsw._emitReady()})}else this.emitAdd(o.watchPath,t,a,i,n),this.fsw._emitReady()}catch(e){e&&!this.fsw._handleError(e)||(this.fsw._emitReady(),this.fsw._emitReady())}var c;if(i.persistent&&!0!==n)if(typeof t===R)this.initWatch(void 0,e,o,a);else{let t;try{t=await O(o.watchPath)}catch(e){}this.initWatch(t,e,o,a)}}},e.exports.canUse=()=>a&&P.size<128},6163:(e,t,n)=>{"use strict";const{sep:s}=n(6928),{platform:r}=process,i=n(857);t.EV_ALL="all",t.EV_READY="ready",t.EV_ADD="add",t.EV_CHANGE="change",t.EV_ADD_DIR="addDir",t.EV_UNLINK="unlink",t.EV_UNLINK_DIR="unlinkDir",t.EV_RAW="raw",t.EV_ERROR="error",t.STR_DATA="data",t.STR_END="end",t.STR_CLOSE="close",t.FSEVENT_CREATED="created",t.FSEVENT_MODIFIED="modified",t.FSEVENT_DELETED="deleted",t.FSEVENT_MOVED="moved",t.FSEVENT_CLONED="cloned",t.FSEVENT_UNKNOWN="unknown",t.FSEVENT_FLAG_MUST_SCAN_SUBDIRS=1,t.FSEVENT_TYPE_FILE="file",t.FSEVENT_TYPE_DIRECTORY="directory",t.FSEVENT_TYPE_SYMLINK="symlink",t.KEY_LISTENERS="listeners",t.KEY_ERR="errHandlers",t.KEY_RAW="rawEmitters",t.HANDLER_KEYS=[t.KEY_LISTENERS,t.KEY_ERR,t.KEY_RAW],t.DOT_SLASH=`.${s}`,t.BACK_SLASH_RE=/\\/g,t.DOUBLE_SLASH_RE=/\/\//,t.SLASH_OR_BACK_SLASH_RE=/[/\\]/,t.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/,t.REPLACER_RE=/^\.[/\\]/,t.SLASH="/",t.SLASH_SLASH="//",t.BRACE_START="{",t.BANG="!",t.ONE_DOT=".",t.TWO_DOTS="..",t.STAR="*",t.GLOBSTAR="**",t.ROOT_GLOBSTAR="/**/*",t.SLASH_GLOBSTAR="/**",t.DIR_SUFFIX="Dir",t.ANYMATCH_OPTS={dot:!0},t.STRING_TYPE="string",t.FUNCTION_TYPE="function",t.EMPTY_STR="",t.EMPTY_FN=()=>{},t.IDENTITY_FN=e=>e,t.isWindows="win32"===r,t.isMacos="darwin"===r,t.isLinux="linux"===r,t.isIBMi="OS400"===i.type()},6244:(e,t,n)=>{"use strict";const s=n(3735),r=n(6928),i=n(4423).copySync,a=n(5422).removeSync,o=n(3798).mkdirpSync,c=n(6462);function l(e,t,n){try{s.renameSync(e,t)}catch(s){if("EXDEV"!==s.code)throw s;return function(e,t,n){return i(e,t,{overwrite:n,errorOnExist:!0,preserveTimestamps:!0}),a(e)}(e,t,n)}}e.exports=function(e,t,n){const i=(n=n||{}).overwrite||n.clobber||!1,{srcStat:u,isChangingCase:h=!1}=c.checkPathsSync(e,t,"move",n);return c.checkParentPathsSync(e,u,t,"move"),function(e){const t=r.dirname(e);return r.parse(t).root===t}(t)||o(r.dirname(t)),function(e,t,n,r){if(r)return l(e,t,n);if(n)return a(t),l(e,t,n);if(s.existsSync(t))throw new Error("dest already exists.");return l(e,t,n)}(e,t,i,h)}},6288:(e,t,n)=>{"use strict";const{createFile:s,createFileSync:r}=n(9616),{createLink:i,createLinkSync:a}=n(1522),{createSymlink:o,createSymlinkSync:c}=n(5291);e.exports={createFile:s,createFileSync:r,ensureFile:s,ensureFileSync:r,createLink:i,createLinkSync:a,ensureLink:i,ensureLinkSync:a,createSymlink:o,createSymlinkSync:c,ensureSymlink:o,ensureSymlinkSync:c}},6322:e=>{"use strict";e.exports={asyncIteratorConcurrentProcess:async function(e,t){const n=[];for await(const s of e)n.push(t(s).then(()=>null,e=>e??new Error("unknown error")));await Promise.all(n.map(e=>e.then(e=>{if(null!==e)throw e})))}}},6426:(e,t,n)=>{"use strict";const{stringify:s}=n(1144),{outputFile:r}=n(7024);e.exports=async function(e,t,n={}){const i=s(t,n);await r(e,i,n)}},6462:(e,t,n)=>{"use strict";const s=n(8737),r=n(6928),i=n(1236).fromPromise;function a(e,t){return void 0!==t.ino&&void 0!==t.dev&&t.ino===e.ino&&t.dev===e.dev}function o(e,t){const n=r.resolve(e).split(r.sep).filter(e=>e),s=r.resolve(t).split(r.sep).filter(e=>e);return n.every((e,t)=>s[t]===e)}function c(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:i(async function(e,t,n,i){const{srcStat:l,destStat:u}=await function(e,t,n){const r=n.dereference?e=>s.stat(e,{bigint:!0}):e=>s.lstat(e,{bigint:!0});return Promise.all([r(e),r(t).catch(e=>{if("ENOENT"===e.code)return null;throw e})]).then(([e,t])=>({srcStat:e,destStat:t}))}(e,t,i);if(u){if(a(l,u)){const s=r.basename(e),i=r.basename(t);if("move"===n&&s!==i&&s.toLowerCase()===i.toLowerCase())return{srcStat:l,destStat:u,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(l.isDirectory()&&!u.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!l.isDirectory()&&u.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(l.isDirectory()&&o(e,t))throw new Error(c(e,t,n));return{srcStat:l,destStat:u}}),checkPathsSync:function(e,t,n,i){const{srcStat:l,destStat:u}=function(e,t,n){let r;const i=n.dereference?e=>s.statSync(e,{bigint:!0}):e=>s.lstatSync(e,{bigint:!0}),a=i(e);try{r=i(t)}catch(e){if("ENOENT"===e.code)return{srcStat:a,destStat:null};throw e}return{srcStat:a,destStat:r}}(e,t,i);if(u){if(a(l,u)){const s=r.basename(e),i=r.basename(t);if("move"===n&&s!==i&&s.toLowerCase()===i.toLowerCase())return{srcStat:l,destStat:u,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(l.isDirectory()&&!u.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!l.isDirectory()&&u.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(l.isDirectory()&&o(e,t))throw new Error(c(e,t,n));return{srcStat:l,destStat:u}},checkParentPaths:i(async function e(t,n,i,o){const l=r.resolve(r.dirname(t)),u=r.resolve(r.dirname(i));if(u===l||u===r.parse(u).root)return;let h;try{h=await s.stat(u,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(a(n,h))throw new Error(c(t,i,o));return e(t,n,u,o)}),checkParentPathsSync:function e(t,n,i,o){const l=r.resolve(r.dirname(t)),u=r.resolve(r.dirname(i));if(u===l||u===r.parse(u).root)return;let h;try{h=s.statSync(u,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(a(n,h))throw new Error(c(t,i,o));return e(t,n,u,o)},isSrcSubdir:o,areIdentical:a}},6548:e=>{"use strict";e.exports=JSON.parse('["3dm","3ds","3g2","3gp","7z","a","aac","adp","afdesign","afphoto","afpub","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]')},6675:(e,t,n)=>{"use strict";const s=n(6928),r=n(2608),i=n(1154),a=n(280),o=n(3940),c=(e,t,n=!1)=>{if(Array.isArray(e)){const s=e.map(e=>c(e,t,n)),r=e=>{for(const t of s){const n=t(e);if(n)return n}return!1};return r}const s=(r=e)&&"object"==typeof r&&!Array.isArray(r)&&e.tokens&&e.input;var r;if(""===e||"string"!=typeof e&&!s)throw new TypeError("Expected pattern to be a non-empty string");const i=t||{},o=a.isWindows(t),l=s?c.compileRe(e,t):c.makeRe(e,t,!1,!0),u=l.state;delete l.state;let h=()=>!1;if(i.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};h=c(i.ignore,e,n)}const d=(n,s=!1)=>{const{isMatch:r,match:a,output:d}=c.test(n,l,t,{glob:e,posix:o}),p={glob:e,state:u,regex:l,posix:o,input:n,output:d,match:a,isMatch:r};return"function"==typeof i.onResult&&i.onResult(p),!1===r?(p.isMatch=!1,!!s&&p):h(n)?("function"==typeof i.onIgnore&&i.onIgnore(p),p.isMatch=!1,!!s&&p):("function"==typeof i.onMatch&&i.onMatch(p),!s||p)};return n&&(d.state=u),d};c.test=(e,t,n,{glob:s,posix:r}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const i=n||{},o=i.format||(r?a.toPosixSlashes:null);let l=e===s,u=l&&o?o(e):e;return!1===l&&(u=o?o(e):e,l=u===s),!1!==l&&!0!==i.capture||(l=!0===i.matchBase||!0===i.basename?c.matchBase(e,t,n,r):t.exec(u)),{isMatch:Boolean(l),match:l,output:u}},c.matchBase=(e,t,n,r=a.isWindows(n))=>(t instanceof RegExp?t:c.makeRe(t,n)).test(s.basename(e)),c.isMatch=(e,t,n)=>c(t,n)(e),c.parse=(e,t)=>Array.isArray(e)?e.map(e=>c.parse(e,t)):i(e,{...t,fastpaths:!1}),c.scan=(e,t)=>r(e,t),c.compileRe=(e,t,n=!1,s=!1)=>{if(!0===n)return e.output;const r=t||{},i=r.contains?"":"^",a=r.contains?"":"$";let o=`${i}(?:${e.output})${a}`;e&&!0===e.negated&&(o=`^(?!${o}).*$`);const l=c.toRegex(o,t);return!0===s&&(l.state=e),l},c.makeRe=(e,t={},n=!1,s=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let r={negated:!1,fastpaths:!0};return!1===t.fastpaths||"."!==e[0]&&"*"!==e[0]||(r.output=i.fastpaths(e,t)),r.output||(r=i(e,t)),c.compileRe(r,t,n,s)},c.toRegex=(e,t)=>{try{const n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},c.constants=o,e.exports=c},6928:e=>{"use strict";e.exports=require("path")},7024:(e,t,n)=>{"use strict";const s=n(1236).fromPromise,r=n(8737),i=n(6928),a=n(3798),o=n(9288).pathExists;e.exports={outputFile:s(async function(e,t,n="utf-8"){const s=i.dirname(e);return await o(s)||await a.mkdirs(s),r.writeFile(e,t,n)}),outputFileSync:function(e,...t){const n=i.dirname(e);r.existsSync(n)||a.mkdirsSync(n),r.writeFileSync(e,...t)}}},7028:(e,t,n)=>{"use strict";const s=n(9023),r=n(54),i=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),a=e=>"number"==typeof e||"string"==typeof e&&""!==e,o=e=>Number.isInteger(+e),c=e=>{let t=`${e}`,n=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++n];);return n>0},l=(e,t,n)=>{if(t>0){let n="-"===e[0]?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return!1===n?String(e):e},u=(e,t)=>{let n="-"===e[0]?"-":"";for(n&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return n?"-"+e:e},h=(e,t,n,s)=>{if(n)return r(e,t,{wrap:!1,...s});let i=String.fromCharCode(e);return e===t?i:`[${i}-${String.fromCharCode(t)}]`},d=(e,t,n)=>{if(Array.isArray(e)){let t=!0===n.wrap,s=n.capture?"":"?:";return t?`(${s}${e.join("|")})`:e.join("|")}return r(e,t,n)},p=(...e)=>new RangeError("Invalid range arguments: "+s.inspect(...e)),f=(e,t,n)=>{if(!0===n.strictRanges)throw p([e,t]);return[]},y=(e,t,n,s={})=>{if(null==t&&a(e))return[e];if(!a(e)||!a(t))return f(e,t,s);if("function"==typeof n)return y(e,t,1,{transform:n});if(i(n))return y(e,t,0,n);let r={...s};return!0===r.capture&&(r.wrap=!0),n=n||r.step||1,o(n)?o(e)&&o(t)?((e,t,n=1,s={})=>{let r=Number(e),i=Number(t);if(!Number.isInteger(r)||!Number.isInteger(i)){if(!0===s.strictRanges)throw p([e,t]);return[]}0===r&&(r=0),0===i&&(i=0);let a=r>i,o=String(e),f=String(t),y=String(n);n=Math.max(Math.abs(n),1);let m=c(o)||c(f)||c(y),w=m?Math.max(o.length,f.length,y.length):0,g=!1===m&&!1===((e,t,n)=>"string"==typeof e||"string"==typeof t||!0===n.stringify)(e,t,s),_=s.transform||(e=>t=>!0===e?Number(t):String(t))(g);if(s.toRegex&&1===n)return h(u(e,w),u(t,w),!0,s);let E={negatives:[],positives:[]},S=e=>E[e<0?"negatives":"positives"].push(Math.abs(e)),b=[],v=0;for(;a?r>=i:r<=i;)!0===s.toRegex&&n>1?S(r):b.push(l(_(r,v),w,g)),r=a?r-n:r+n,v++;return!0===s.toRegex?n>1?((e,t,n)=>{e.negatives.sort((e,t)=>e<t?-1:e>t?1:0),e.positives.sort((e,t)=>e<t?-1:e>t?1:0);let s,r=t.capture?"":"?:",i="",a="";return e.positives.length&&(i=e.positives.map(e=>u(String(e),n)).join("|")),e.negatives.length&&(a=`-(${r}${e.negatives.map(e=>u(String(e),n)).join("|")})`),s=i&&a?`${i}|${a}`:i||a,t.wrap?`(${r}${s})`:s})(E,s,w):d(b,null,{wrap:!1,...s}):b})(e,t,n,r):((e,t,n=1,s={})=>{if(!o(e)&&e.length>1||!o(t)&&t.length>1)return f(e,t,s);let r=s.transform||(e=>String.fromCharCode(e)),i=`${e}`.charCodeAt(0),a=`${t}`.charCodeAt(0),c=i>a,l=Math.min(i,a),u=Math.max(i,a);if(s.toRegex&&1===n)return h(l,u,!1,s);let p=[],y=0;for(;c?i>=a:i<=a;)p.push(r(i,y)),i=c?i-n:i+n,y++;return!0===s.toRegex?d(p,null,{wrap:!1,options:s}):p})(e,t,Math.max(Math.abs(n),1),r):null==n||i(n)?y(e,t,1,n):((e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]})(n,r)};e.exports=y},7064:(e,t,n)=>{"use strict";const s=n(8737),r=n(1236).fromPromise;e.exports={symlinkType:r(async function(e,t){if(t)return t;let n;try{n=await s.lstat(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}),symlinkTypeSync:function(e,t){if(t)return t;let n;try{n=s.lstatSync(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}}},7111:(e,t,n)=>{"use strict";const s=n(6928);e.exports.checkPath=function(e){if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(s.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}},7211:(e,t,n)=>{"use strict";const s=n(8737),r=n(1236).fromPromise;e.exports={utimesMillis:r(async function(e,t,n){const r=await s.open(e,"r+");let i=null;try{await s.futimes(r,t,n)}finally{try{await s.close(r)}catch(e){i=e}}if(i)throw i}),utimesMillisSync:function(e,t,n){const r=s.openSync(e,"r+");return s.futimesSync(r,t,n),s.closeSync(r)}}},7612:(e,t)=>{"use strict";t.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),t.find=(e,t)=>e.nodes.find(e=>e.type===t),t.exceedsLimit=(e,n,s=1,r)=>!1!==r&&!(!t.isInteger(e)||!t.isInteger(n))&&(Number(n)-Number(e))/Number(s)>=r,t.escapeNode=(e,t=0,n)=>{const s=e.nodes[t];s&&(n&&s.type===n||"open"===s.type||"close"===s.type)&&!0!==s.escaped&&(s.value="\\"+s.value,s.escaped=!0)},t.encloseBrace=e=>!("brace"!==e.type||e.commas>>0+e.ranges|0||(e.invalid=!0,0)),t.isInvalidBrace=e=>!("brace"!==e.type||!0!==e.invalid&&!e.dollar&&(e.commas>>0+e.ranges|0&&!0===e.open&&!0===e.close||(e.invalid=!0,0))),t.isOpenOrClose=e=>"open"===e.type||"close"===e.type||!0===e.open||!0===e.close,t.reduce=e=>e.reduce((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e),[]),t.flatten=(...e)=>{const t=[],n=e=>{for(let s=0;s<e.length;s++){const r=e[s];Array.isArray(r)?n(r):void 0!==r&&t.push(r)}return t};return n(e),t}},8697:(e,t,n)=>{"use strict";const s=n(7028),r=n(3720),i=n(7612),a=(e="",t="",n=!1)=>{const s=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return n?i.flatten(t).map(e=>`{${e}}`):t;for(const r of e)if(Array.isArray(r))for(const e of r)s.push(a(e,t,n));else for(let e of t)!0===n&&"string"==typeof e&&(e=`{${e}}`),s.push(Array.isArray(e)?a(r,e,n):r+e);return i.flatten(s)};e.exports=(e,t={})=>{const n=void 0===t.rangeLimit?1e3:t.rangeLimit,o=(e,c={})=>{e.queue=[];let l=c,u=c.queue;for(;"brace"!==l.type&&"root"!==l.type&&l.parent;)l=l.parent,u=l.queue;if(e.invalid||e.dollar)return void u.push(a(u.pop(),r(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void u.push(a(u.pop(),["{}"]));if(e.nodes&&e.ranges>0){const o=i.reduce(e.nodes);if(i.exceedsLimit(...o,t.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=s(...o,t);return 0===c.length&&(c=r(e,t)),u.push(a(u.pop(),c)),void(e.nodes=[])}const h=i.encloseBrace(e);let d=e.queue,p=e;for(;"brace"!==p.type&&"root"!==p.type&&p.parent;)p=p.parent,d=p.queue;for(let t=0;t<e.nodes.length;t++){const n=e.nodes[t];"comma"!==n.type||"brace"!==e.type?"close"!==n.type?n.value&&"open"!==n.type?d.push(a(d.pop(),n.value)):n.nodes&&o(n,e):u.push(a(u.pop(),d,h)):(1===t&&d.push(""),d.push(""))}return d};return i.flatten(o(e))}},8712:(e,t,n)=>{"use strict";const s=n(7028),r=n(7612);e.exports=(e,t={})=>{const n=(e,i={})=>{const a=r.isInvalidBrace(i),o=!0===e.invalid&&!0===t.escapeInvalid,c=!0===a||!0===o,l=!0===t.escapeInvalid?"\\":"";let u="";if(!0===e.isOpen)return l+e.value;if(!0===e.isClose)return console.log("node.isClose",l,e.value),l+e.value;if("open"===e.type)return c?l+e.value:"(";if("close"===e.type)return c?l+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":c?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){const n=r.reduce(e.nodes),i=s(...n,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(0!==i.length)return n.length>1&&i.length>1?`(${i})`:i}if(e.nodes)for(const t of e.nodes)u+=n(t,e);return u};return n(e)}},8737:(e,t,n)=>{"use strict";const s=n(1236).fromCallback,r=n(3735),i=["access","appendFile","chmod","chown","close","copyFile","cp","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","glob","lchmod","lchown","lutimes","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","statfs","symlink","truncate","unlink","utimes","writeFile"].filter(e=>"function"==typeof r[e]);Object.assign(t,r),i.forEach(e=>{t[e]=s(r[e])}),t.exists=function(e,t){return"function"==typeof t?r.exists(e,t):new Promise(t=>r.exists(e,t))},t.read=function(e,t,n,s,i,a){return"function"==typeof a?r.read(e,t,n,s,i,a):new Promise((a,o)=>{r.read(e,t,n,s,i,(e,t,n)=>{if(e)return o(e);a({bytesRead:t,buffer:n})})})},t.write=function(e,t,...n){return"function"==typeof n[n.length-1]?r.write(e,t,...n):new Promise((s,i)=>{r.write(e,t,...n,(e,t,n)=>{if(e)return i(e);s({bytesWritten:t,buffer:n})})})},t.readv=function(e,t,...n){return"function"==typeof n[n.length-1]?r.readv(e,t,...n):new Promise((s,i)=>{r.readv(e,t,...n,(e,t,n)=>{if(e)return i(e);s({bytesRead:t,buffers:n})})})},t.writev=function(e,t,...n){return"function"==typeof n[n.length-1]?r.writev(e,t,...n):new Promise((s,i)=>{r.writev(e,t,...n,(e,t,n)=>{if(e)return i(e);s({bytesWritten:t,buffers:n})})})},"function"==typeof r.realpath.native?t.realpath.native=s(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")},8776:e=>{"use strict";e.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:"",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},8916:(e,t,n)=>{"use strict";const s=n(8737),{checkPath:r}=n(7111),i=e=>"number"==typeof e?e:{mode:511,...e}.mode;e.exports.makeDir=async(e,t)=>(r(e),s.mkdir(e,{mode:i(t),recursive:!0})),e.exports.makeDirSync=(e,t)=>(r(e),s.mkdirSync(e,{mode:i(t),recursive:!0}))},9023:e=>{"use strict";e.exports=require("util")},9084:(e,t,n)=>{"use strict";const s=n(9896),{Readable:r}=n(2203),i=n(6928),{promisify:a}=n(9023),o=n(5157),c=a(s.readdir),l=a(s.stat),u=a(s.lstat),h=a(s.realpath),d="READDIRP_RECURSIVE_ERROR",p=new Set(["ENOENT","EPERM","EACCES","ELOOP",d]),f="files",y="directories",m="files_directories",w="all",g=[f,y,m,w],[_,E]=process.versions.node.split(".").slice(0,2).map(e=>Number.parseInt(e,10)),S="win32"===process.platform&&(_>10||10===_&&E>=5),b=e=>{if(void 0!==e){if("function"==typeof e)return e;if("string"==typeof e){const t=o(e.trim());return e=>t(e.basename)}if(Array.isArray(e)){const t=[],n=[];for(const s of e){const e=s.trim();"!"===e.charAt(0)?n.push(o(e.slice(1))):t.push(o(e))}return n.length>0?t.length>0?e=>t.some(t=>t(e.basename))&&!n.some(t=>t(e.basename)):e=>!n.some(t=>t(e.basename)):e=>t.some(t=>t(e.basename))}}};class v extends r{static get defaultOptions(){return{root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:f,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(e={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:e.highWaterMark||4096});const t={...v.defaultOptions,...e},{root:n,type:r}=t;this._fileFilter=b(t.fileFilter),this._directoryFilter=b(t.directoryFilter);const a=t.lstat?u:l;this._stat=S?e=>a(e,{bigint:!0}):a,this._maxDepth=t.depth,this._wantsDir=[y,m,w].includes(r),this._wantsFile=[f,m,w].includes(r),this._wantsEverything=r===w,this._root=i.resolve(n),this._isDirent="Dirent"in s&&!t.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(n,1)],this.reading=!1,this.parent=void 0}async _read(e){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&e>0;){const{path:t,depth:n,files:s=[]}=this.parent||{};if(s.length>0){const r=s.splice(0,e).map(e=>this._formatEntry(e,t));for(const t of await Promise.all(r)){if(this.destroyed)return;const s=await this._getEntryType(t);"directory"===s&&this._directoryFilter(t)?(n<=this._maxDepth&&this.parents.push(this._exploreDir(t.fullPath,n+1)),this._wantsDir&&(this.push(t),e--)):("file"===s||this._includeAsFile(t))&&this._fileFilter(t)&&this._wantsFile&&(this.push(t),e--)}}else{const e=this.parents.pop();if(!e){this.push(null);break}if(this.parent=await e,this.destroyed)return}}}catch(e){this.destroy(e)}finally{this.reading=!1}}}async _exploreDir(e,t){let n;try{n=await c(e,this._rdOptions)}catch(e){this._onError(e)}return{files:n,depth:t,path:e}}async _formatEntry(e,t){let n;try{const s=this._isDirent?e.name:e,r=i.resolve(i.join(t,s));n={path:i.relative(this._root,r),fullPath:r,basename:s},n[this._statsProp]=this._isDirent?e:await this._stat(r)}catch(e){this._onError(e)}return n}_onError(e){var t;t=e,p.has(t.code)&&!this.destroyed?this.emit("warn",e):this.destroy(e)}async _getEntryType(e){const t=e&&e[this._statsProp];if(t){if(t.isFile())return"file";if(t.isDirectory())return"directory";if(t&&t.isSymbolicLink()){const t=e.fullPath;try{const e=await h(t),n=await u(e);if(n.isFile())return"file";if(n.isDirectory()){const n=e.length;if(t.startsWith(e)&&t.substr(n,1)===i.sep){const n=new Error(`Circular symlink detected: "${t}" points to "${e}"`);return n.code=d,this._onError(n)}return"directory"}}catch(e){this._onError(e)}}}}_includeAsFile(e){const t=e&&e[this._statsProp];return t&&this._wantsEverything&&!t.isDirectory()}}const A=(e,t={})=>{let n=t.entryType||t.type;if("both"===n&&(n=m),n&&(t.type=n),!e)throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");if("string"!=typeof e)throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(n&&!g.includes(n))throw new Error(`readdirp: Invalid type passed. Use one of ${g.join(", ")}`);return t.root=e,new v(t)};A.promise=(e,t={})=>new Promise((n,s)=>{const r=[];A(e,t).on("data",e=>r.push(e)).on("end",()=>n(r)).on("error",e=>s(e))}),A.ReaddirpStream=v,A.default=A,e.exports=A},9106:(e,t,n)=>{var s=n(9140),r=process.cwd,i=null,a=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return i||(i=r.call(process)),i};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var o=process.chdir;process.chdir=function(e){i=null,o.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,o)}e.exports=function(e){function t(t){return t?function(n,s,r){return t.call(e,n,s,function(e){l(e)&&(e=null),r&&r.apply(this,arguments)})}:t}function n(t){return t?function(n,s){try{return t.call(e,n,s)}catch(e){if(!l(e))throw e}}:t}function r(t){return t?function(n,s,r,i){return t.call(e,n,s,r,function(e){l(e)&&(e=null),i&&i.apply(this,arguments)})}:t}function i(t){return t?function(n,s,r){try{return t.call(e,n,s,r)}catch(e){if(!l(e))throw e}}:t}function o(t){return t?function(n,s,r){function i(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),r&&r.apply(this,arguments)}return"function"==typeof s&&(r=s,s=null),s?t.call(e,n,s,i):t.call(e,n,i)}:t}function c(t){return t?function(n,s){var r=s?t.call(e,n,s):t.call(e,n);return r&&(r.uid<0&&(r.uid+=4294967296),r.gid<0&&(r.gid+=4294967296)),r}:t}function l(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}var u;s.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,r){e.open(t,s.O_WRONLY|s.O_SYMLINK,n,function(t,s){t?r&&r(t):e.fchmod(s,n,function(t){e.close(s,function(e){r&&r(t||e)})})})},e.lchmodSync=function(t,n){var r,i=e.openSync(t,s.O_WRONLY|s.O_SYMLINK,n),a=!0;try{r=e.fchmodSync(i,n),a=!1}finally{if(a)try{e.closeSync(i)}catch(e){}else e.closeSync(i)}return r}}(e),e.lutimes||function(e){s.hasOwnProperty("O_SYMLINK")&&e.futimes?(e.lutimes=function(t,n,r,i){e.open(t,s.O_SYMLINK,function(t,s){t?i&&i(t):e.futimes(s,n,r,function(t){e.close(s,function(e){i&&i(t||e)})})})},e.lutimesSync=function(t,n,r){var i,a=e.openSync(t,s.O_SYMLINK),o=!0;try{i=e.futimesSync(a,n,r),o=!1}finally{if(o)try{e.closeSync(a)}catch(e){}else e.closeSync(a)}return i}):e.futimes&&(e.lutimes=function(e,t,n,s){s&&process.nextTick(s)},e.lutimesSync=function(){})}(e),e.chown=r(e.chown),e.fchown=r(e.fchown),e.lchown=r(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=i(e.chownSync),e.fchownSync=i(e.fchownSync),e.lchownSync=i(e.lchownSync),e.chmodSync=n(e.chmodSync),e.fchmodSync=n(e.fchmodSync),e.lchmodSync=n(e.lchmodSync),e.stat=o(e.stat),e.fstat=o(e.fstat),e.lstat=o(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(e,t,n,s){s&&process.nextTick(s)},e.lchownSync=function(){}),"win32"===a&&(e.rename="function"!=typeof e.rename?e.rename:function(t){function n(n,s,r){var i=Date.now(),a=0;t(n,s,function o(c){if(c&&("EACCES"===c.code||"EPERM"===c.code||"EBUSY"===c.code)&&Date.now()-i<6e4)return setTimeout(function(){e.stat(s,function(e,i){e&&"ENOENT"===e.code?t(n,s,o):r(c)})},a),void(a<100&&(a+=10));r&&r(c)})}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.rename)),e.read="function"!=typeof e.read?e.read:function(t){function n(n,s,r,i,a,o){var c;if(o&&"function"==typeof o){var l=0;c=function(u,h,d){if(u&&"EAGAIN"===u.code&&l<10)return l++,t.call(e,n,s,r,i,a,c);o.apply(this,arguments)}}return t.call(e,n,s,r,i,a,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.read),e.readSync="function"!=typeof e.readSync?e.readSync:(u=e.readSync,function(t,n,s,r,i){for(var a=0;;)try{return u.call(e,t,n,s,r,i)}catch(e){if("EAGAIN"===e.code&&a<10){a++;continue}throw e}})}},9140:e=>{"use strict";e.exports=require("constants")},9288:(e,t,n)=>{"use strict";const s=n(1236).fromPromise,r=n(8737);e.exports={pathExists:s(function(e){return r.access(e).then(()=>!0).catch(()=>!1)}),pathExistsSync:r.existsSync}},9616:(e,t,n)=>{"use strict";const s=n(1236).fromPromise,r=n(6928),i=n(8737),a=n(3798);e.exports={createFile:s(async function(e){let t;try{t=await i.stat(e)}catch{}if(t&&t.isFile())return;const n=r.dirname(e);let s=null;try{s=await i.stat(n)}catch(t){if("ENOENT"===t.code)return await a.mkdirs(n),void await i.writeFile(e,"");throw t}s.isDirectory()?await i.writeFile(e,""):await i.readdir(n)}),createFileSync:function(e){let t;try{t=i.statSync(e)}catch{}if(t&&t.isFile())return;const n=r.dirname(e);try{i.statSync(n).isDirectory()||i.readdirSync(n)}catch(e){if(!e||"ENOENT"!==e.code)throw e;a.mkdirsSync(n)}i.writeFileSync(e,"")}}},9896:e=>{"use strict";e.exports=require("fs")}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=require("electron"),t=require("electron-updater");var s=n(6928),r=n(9896);function i(e){try{const t=s.join(__dirname,"../../../assets",e),n=s.join(__dirname,"../assets",e);try{if(r.existsSync(t))return t}catch(e){console.warn("Error checking development asset path:",e)}try{if(r.existsSync(n))return n}catch(e){console.warn("Error checking production asset path:",e)}return n}catch(t){return console.error("Error resolving asset path:",t),s.join(__dirname,"../assets",e)}}function a(e){try{const t=i(e);return r.existsSync(t)}catch(e){return console.warn("Error checking if asset exists:",e),!1}}class o{constructor(){this.mainWindow=null,this.windows=new Map,this.isDevelopment=!1}async initialize(){try{console.log("WindowManager initialized")}catch(e){throw console.error("Failed to initialize WindowManager:",e),e}}async createMainWindow(){try{if(this.mainWindow&&!this.mainWindow.isDestroyed())return this.mainWindow.focus(),this.mainWindow;const{width:t,height:n}=e.screen.getPrimaryDisplay().workAreaSize,r={width:Math.min(1400,.9*t),height:Math.min(900,.9*n),minWidth:1e3,minHeight:700,show:!1,webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:s.join(__dirname,"./preload.js"),webSecurity:!this.isDevelopment,allowRunningInsecureContent:this.isDevelopment},titleBarStyle:"darwin"===process.platform?"hiddenInset":"default",icon:this.getAppIcon()};this.mainWindow=new e.BrowserWindow(r),this.windows.set("main",this.mainWindow);try{await this.loadApplication(this.mainWindow)}catch(e){console.error("Failed to load application in main window:",e)}return this.setupWindowEvents(this.mainWindow),this.mainWindow.once("ready-to-show",()=>{this.mainWindow&&(this.mainWindow.show(),this.isDevelopment&&this.mainWindow.webContents.openDevTools())}),this.mainWindow}catch(e){throw console.error("Failed to create main window:",e),this.mainWindow&&!this.mainWindow.isDestroyed()&&(this.mainWindow.destroy(),this.mainWindow=null),e}}async createChildWindow(t,n){try{const r=this.windows.get(t),i=new e.BrowserWindow({width:800,height:600,parent:r||void 0,modal:n.modal||!1,show:!1,webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:s.join(__dirname,"./preload.js")},...n}),a=`child-${Date.now()}`;return this.windows.set(a,i),this.setupWindowEvents(i,a),i}catch(e){throw console.error("Failed to create child window:",e),e}}getMainWindow(){return this.mainWindow}getWindow(e){return this.windows.get(e)}getAllWindows(){return Array.from(this.windows.values())}closeWindow(e){const t=this.windows.get(e);t&&!t.isDestroyed()&&t.close()}closeAllWindows(){this.windows.forEach((e,t)=>{e.isDestroyed()||e.close()})}saveWindowState(e){const t=e.getBounds(),n=e.isMaximized(),s=e.isFullScreen();return{x:t.x,y:t.y,width:t.width,height:t.height,isMaximized:n,isFullScreen:s}}restoreWindowState(e,t){t.isMaximized?e.maximize():t.isFullScreen?e.setFullScreen(!0):e.setBounds({x:t.x,y:t.y,width:t.width,height:t.height})}async loadApplication(e){try{this.isDevelopment?await e.loadURL("http://localhost:3000"):await e.loadFile(s.join(__dirname,"../dist/renderer/index.html"))}catch(e){throw console.error("Failed to load application content:",e),e}}setupWindowEvents(e,t){try{e.on("closed",()=>{try{t?this.windows.delete(t):e===this.mainWindow&&(this.mainWindow=null)}catch(e){console.error("Error handling window closed event:",e)}}),e.on("maximize",()=>{try{e.isDestroyed()||e.webContents.send("window-state-changed",{maximized:!0})}catch(e){console.error("Error handling window maximize event:",e)}}),e.on("unmaximize",()=>{try{e.isDestroyed()||e.webContents.send("window-state-changed",{maximized:!1})}catch(e){console.error("Error handling window unmaximize event:",e)}}),e.on("enter-full-screen",()=>{try{e.isDestroyed()||e.webContents.send("window-state-changed",{fullscreen:!0})}catch(e){console.error("Error handling window enter-full-screen event:",e)}}),e.on("leave-full-screen",()=>{try{e.isDestroyed()||e.webContents.send("window-state-changed",{fullscreen:!1})}catch(e){console.error("Error handling window leave-full-screen event:",e)}}),e.on("focus",()=>{try{e.isDestroyed()||e.webContents.send("window-focus-changed",{focused:!0})}catch(e){console.error("Error handling window focus event:",e)}}),e.on("blur",()=>{try{e.isDestroyed()||e.webContents.send("window-focus-changed",{focused:!1})}catch(e){console.error("Error handling window blur event:",e)}})}catch(e){console.error("Failed to setup window events:",e)}}getAppIcon(){try{const t="icons/app-icon.png";if(!a(t)){const e=i(t);return void console.warn(`App icon not found at path: ${e}. Using system default icon.`)}const n=i(t),s=e.nativeImage.createFromPath(n);return s.isEmpty()?void console.warn(`Failed to load app icon from path: ${n}. Using system default icon.`):s}catch(e){return void console.warn(`Error loading app icon: ${e instanceof Error?e.message:"Unknown error"}. Using system default icon.`)}}}class c{constructor(){this.applicationMenu=null,this.windowManager=new o}async initialize(){console.log("MenuManager initialized")}createApplicationMenu(){const t=this.getMenuTemplate();this.applicationMenu=e.Menu.buildFromTemplate(t),e.Menu.setApplicationMenu(this.applicationMenu)}createContextMenu(t){return e.Menu.buildFromTemplate(t)}getMenuTemplate(){const t="darwin"===process.platform;return[...t?[{label:e.app.getName(),submenu:[{role:"about"},{type:"separator"},{role:"services"},{type:"separator"},{role:"hide"},{role:"hideOthers"},{role:"unhide"},{type:"separator"},{role:"quit"}]}]:[],{label:"File",submenu:[{label:"New Project",accelerator:"CmdOrCtrl+N",click:()=>this.handleNewProject()},{label:"Open Project",accelerator:"CmdOrCtrl+O",click:()=>this.handleOpenProject()},{label:"Open Recent",submenu:this.getRecentProjectsMenu()},{type:"separator"},{label:"Save",accelerator:"CmdOrCtrl+S",click:()=>this.handleSave()},{label:"Save As...",accelerator:"CmdOrCtrl+Shift+S",click:()=>this.handleSaveAs()},{label:"Save All",accelerator:"CmdOrCtrl+Alt+S",click:()=>this.handleSaveAll()},{type:"separator"},{label:"Close File",accelerator:"CmdOrCtrl+W",click:()=>this.handleCloseFile()},{label:"Close Project",accelerator:"CmdOrCtrl+Shift+W",click:()=>this.handleCloseProject()},{type:"separator"},...t?[]:[{label:"Exit",accelerator:"CmdOrCtrl+Q",click:()=>e.app.quit()}]]},{label:"Edit",submenu:[{role:"undo"},{role:"redo"},{type:"separator"},{role:"cut"},{role:"copy"},{role:"paste"},{role:"selectAll"},{type:"separator"},{label:"Find",accelerator:"CmdOrCtrl+F",click:()=>this.handleFind()},{label:"Find and Replace",accelerator:"CmdOrCtrl+H",click:()=>this.handleFindReplace()},{label:"Find in Files",accelerator:"CmdOrCtrl+Shift+F",click:()=>this.handleFindInFiles()}]},{label:"View",submenu:[{label:"Command Palette",accelerator:"CmdOrCtrl+Shift+P",click:()=>this.handleCommandPalette()},{type:"separator"},{label:"Explorer",accelerator:"CmdOrCtrl+Shift+E",click:()=>this.handleToggleExplorer()},{label:"Agent Panel",accelerator:"CmdOrCtrl+Shift+A",click:()=>this.handleToggleAgentPanel()},{label:"Task Panel",accelerator:"CmdOrCtrl+Shift+T",click:()=>this.handleToggleTaskPanel()},{label:"Terminal",accelerator:"CmdOrCtrl+`",click:()=>this.handleToggleTerminal()},{type:"separator"},{label:"Split Editor Right",accelerator:"CmdOrCtrl+\\",click:()=>this.handleSplitEditor("right")},{label:"Split Editor Down",accelerator:"CmdOrCtrl+Shift+\\",click:()=>this.handleSplitEditor("down")},{type:"separator"},{role:"reload"},{role:"forceReload"},{role:"toggleDevTools"},{type:"separator"},{role:"resetZoom"},{role:"zoomIn"},{role:"zoomOut"},{type:"separator"},{role:"togglefullscreen"}]},{label:"Agents",submenu:[{label:"Create New Agent",accelerator:"CmdOrCtrl+Shift+N",click:()=>this.handleCreateAgent()},{label:"Start All Agents",click:()=>this.handleStartAllAgents()},{label:"Stop All Agents",click:()=>this.handleStopAllAgents()},{type:"separator"},{label:"Agent Settings",click:()=>this.handleAgentSettings()}]},{label:"Tasks",submenu:[{label:"Create Task",accelerator:"CmdOrCtrl+Shift+K",click:()=>this.handleCreateTask()},{label:"Task Board",accelerator:"CmdOrCtrl+Shift+B",click:()=>this.handleTaskBoard()},{label:"Task Timeline",click:()=>this.handleTaskTimeline()}]},{label:"Window",submenu:[{role:"minimize"},{role:"close"},...t?[{type:"separator"},{role:"front"}]:[]]},{label:"Help",submenu:[{label:"Documentation",click:()=>e.shell.openExternal("https://github.com/multi-agent-ide/docs")},{label:"Keyboard Shortcuts",accelerator:"CmdOrCtrl+K CmdOrCtrl+S",click:()=>this.handleKeyboardShortcuts()},{label:"Report Issue",click:()=>e.shell.openExternal("https://github.com/multi-agent-ide/issues")},{type:"separator"},{label:"Check for Updates",click:()=>this.handleCheckUpdates()},...t?[]:[{label:"About",click:()=>this.handleAbout()}]]}]}getRecentProjectsMenu(){return[{label:"No recent projects",enabled:!1}]}handleNewProject(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"new-project"})}async handleOpenProject(){const t=await e.dialog.showOpenDialog({properties:["openDirectory"],title:"Open Project Folder"});if(!t.canceled&&t.filePaths.length>0){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"open-project",path:t.filePaths[0]})}}handleSave(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"save"})}handleSaveAs(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"save-as"})}handleSaveAll(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"save-all"})}handleCloseFile(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"close-file"})}handleCloseProject(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"close-project"})}handleFind(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"find"})}handleFindReplace(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"find-replace"})}handleFindInFiles(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"find-in-files"})}handleCommandPalette(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"command-palette"})}handleToggleExplorer(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"toggle-explorer"})}handleToggleAgentPanel(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"toggle-agent-panel"})}handleToggleTaskPanel(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"toggle-task-panel"})}handleToggleTerminal(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"toggle-terminal"})}handleSplitEditor(e){const t=this.windowManager.getMainWindow();t&&t.webContents.send("menu-action",{action:"split-editor",direction:e})}handleCreateAgent(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"create-agent"})}handleStartAllAgents(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"start-all-agents"})}handleStopAllAgents(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"stop-all-agents"})}handleAgentSettings(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"agent-settings"})}handleCreateTask(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"create-task"})}handleTaskBoard(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"task-board"})}handleTaskTimeline(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"task-timeline"})}handleKeyboardShortcuts(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"keyboard-shortcuts"})}handleCheckUpdates(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("menu-action",{action:"check-updates"})}handleAbout(){e.dialog.showMessageBox({type:"info",title:"About Multi-Agent IDE",message:"Multi-Agent IDE",detail:"A collaborative IDE with multiple AI agents\nVersion 1.0.0"})}}class l{constructor(){this.tray=null,this.windowManager=new o}async initialize(){try{console.log("TrayManager initialized")}catch(e){throw console.error("Failed to initialize TrayManager:",e),e}}createTray(){const t=this.getTrayIconPath();if(!t)return console.warn("Cannot create system tray: No tray icon found. Please ensure tray icon assets are available in the assets/icons directory."),console.warn("Expected tray icon locations:"),console.warn("  - Windows: assets/icons/tray-icon.ico"),void console.warn("  - macOS/Linux: assets/icons/tray-icon.png");try{this.tray=new e.Tray(t),this.setupTrayMenu(),this.setupTrayEvents(),console.log("System tray created successfully")}catch(e){console.warn("Failed to create system tray:",e),this.tray=null}}updateTrayIcon(e){if(!this.tray)return;const t=this.getTrayIconPath(e);if(t)try{this.tray.setImage(t)}catch(t){console.warn(`Failed to update tray icon to status '${e}':`,t)}else console.warn(`Status-specific tray icon for '${e}' not found, keeping current icon`)}updateTrayTooltip(e){this.tray&&this.tray.setToolTip(e)}showNotification(e,t){if(this.tray)try{this.tray.displayBalloon({title:e,content:t,icon:this.getTrayIconPath()||void 0})}catch(e){console.warn("Failed to show tray notification:",e)}}cleanup(){this.tray&&(this.tray.destroy(),this.tray=null)}setupTrayMenu(){if(!this.tray)return;const t=e.Menu.buildFromTemplate([{label:"Multi-Agent IDE",type:"normal",enabled:!1},{type:"separator"},{label:"Show/Hide Window",type:"normal",click:()=>this.toggleMainWindow()},{type:"separator"},{label:"Agent Status",type:"submenu",submenu:[{label:"All Agents Idle",type:"normal",enabled:!1},{type:"separator"},{label:"Start All Agents",type:"normal",click:()=>this.handleStartAllAgents()},{label:"Stop All Agents",type:"normal",click:()=>this.handleStopAllAgents()}]},{label:"Quick Actions",type:"submenu",submenu:[{label:"New Project",type:"normal",click:()=>this.handleNewProject()},{label:"Open Project",type:"normal",click:()=>this.handleOpenProject()},{type:"separator"},{label:"Create Agent",type:"normal",click:()=>this.handleCreateAgent()},{label:"Create Task",type:"normal",click:()=>this.handleCreateTask()}]},{type:"separator"},{label:"Settings",type:"normal",click:()=>this.handleSettings()},{label:"About",type:"normal",click:()=>this.handleAbout()},{type:"separator"},{label:"Quit",type:"normal",click:()=>e.app.quit()}]);this.tray.setContextMenu(t)}setupTrayEvents(){if(this.tray)try{this.tray.on("double-click",()=>{try{this.toggleMainWindow()}catch(e){console.error("Error handling tray double-click:",e)}}),this.tray.on("right-click",()=>{}),this.tray.on("balloon-click",()=>{try{this.showMainWindow()}catch(e){console.error("Error handling tray balloon-click:",e)}})}catch(e){console.error("Failed to setup tray events:",e)}}toggleMainWindow(){try{const e=this.windowManager.getMainWindow();if(!e)return void this.windowManager.createMainWindow().catch(e=>{console.error("Failed to create main window from tray:",e)});e.isVisible()?e.isFocused()?e.hide():e.focus():(e.show(),e.focus())}catch(e){console.error("Failed to toggle main window:",e)}}showMainWindow(){try{const e=this.windowManager.getMainWindow();if(!e)return void this.windowManager.createMainWindow().catch(e=>{console.error("Failed to create main window from tray:",e)});e.isVisible()||e.show(),e.focus()}catch(e){console.error("Failed to show main window:",e)}}getTrayIconPath(e){try{let t="tray-icon";e&&(t+=`-${e}`);const n="win32"===process.platform?".ico":".png",s=`icons/${t}${n}`;if(a(s))return i(s);{const t=i(s);if(console.warn(`Tray icon not found at path: ${t}`),e){const e=`icons/tray-icon${n}`;if(a(e)){const t=i(e);return console.warn(`Using fallback tray icon: ${t}`),t}}return null}}catch(e){return console.warn("Error accessing tray icon:",e),null}}handleStartAllAgents(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("tray-action",{action:"start-all-agents"})}handleStopAllAgents(){const e=this.windowManager.getMainWindow();e&&e.webContents.send("tray-action",{action:"stop-all-agents"})}handleNewProject(){const e=this.windowManager.getMainWindow();e&&(e.webContents.send("tray-action",{action:"new-project"}),this.showMainWindow())}handleOpenProjet(){try{const e=this.windowManager.getMainWindow();e&&!e.isDestroyed()&&(e.webContents.send("tray-action",{action:"new-project"}),this.showMainWindow())}catch(e){console.error("Failed to handle new project action:",e)}}handleOpenProject(){try{const e=this.windowManager.getMainWindow();e&&!e.isDestroyed()&&(e.webContents.send("tray-action",{action:"open-project"}),this.showMainWindow())}catch(e){console.error("Failed to handle open project action:",e)}}handleCreateAgent(){try{const e=this.windowManager.getMainWindow();e&&!e.isDestroyed()&&(e.webContents.send("tray-action",{action:"create-agent"}),this.showMainWindow())}catch(e){console.error("Failed to handle create agent action:",e)}}handleCreateTask(){try{const e=this.windowManager.getMainWindow();e&&!e.isDestroyed()&&(e.webContents.send("tray-action",{action:"create-task"}),this.showMainWindow())}catch(e){console.error("Failed to handle create task action:",e)}}handleSettings(){try{const e=this.windowManager.getMainWindow();e&&!e.isDestroyed()&&(e.webContents.send("tray-action",{action:"settings"}),this.showMainWindow())}catch(e){console.error("Failed to handle settings action:",e)}}handleAbout(){try{const e=this.windowManager.getMainWindow();e&&!e.isDestroyed()&&(e.webContents.send("tray-action",{action:"about"}),this.showMainWindow())}catch(e){console.error("Failed to handle about action:",e)}}}var u=n(1605),h=n(158);const d=require("crypto");var p=n.n(d);const f={randomUUID:p().randomUUID},y=new Uint8Array(256);let m=y.length;function w(){return m>y.length-16&&(p().randomFillSync(y),m=0),y.slice(m,m+=16)}const g=[];for(let e=0;e<256;++e)g.push((e+256).toString(16).slice(1));const _=function(e,t,n){if(f.randomUUID&&!t&&!e)return f.randomUUID();const s=(e=e||{}).random||(e.rng||w)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=s[e];return t}return function(e,t=0){return g[e[t+0]]+g[e[t+1]]+g[e[t+2]]+g[e[t+3]]+"-"+g[e[t+4]]+g[e[t+5]]+"-"+g[e[t+6]]+g[e[t+7]]+"-"+g[e[t+8]]+g[e[t+9]]+"-"+g[e[t+10]]+g[e[t+11]]+g[e[t+12]]+g[e[t+13]]+g[e[t+14]]+g[e[t+15]]}(s)};class E{constructor(){this.watchers=new Map}async initialize(){console.log("FileSystemManager initialized")}async readFile(e){try{return await u.readFile(e,"utf-8")}catch(t){throw new Error(`Failed to read file ${e}: ${t.message}`)}}async writeFile(e,t){try{await u.ensureDir(s.dirname(e)),await u.writeFile(e,t,"utf-8")}catch(t){throw new Error(`Failed to write file ${e}: ${t.message}`)}}async deleteFile(e){try{await u.remove(e)}catch(t){throw new Error(`Failed to delete file ${e}: ${t.message}`)}}async createDirectory(e){try{await u.ensureDir(e)}catch(t){throw new Error(`Failed to create directory ${e}: ${t.message}`)}}async listDirectory(e){try{const t=await u.readdir(e,{withFileTypes:!0});return await Promise.all(t.map(async t=>{const n=s.join(e,t.name);let r;try{r=await u.stat(n)}catch(e){r=null}return{name:t.name,isDirectory:t.isDirectory(),isFile:t.isFile(),path:n,size:r?.size,mtime:r?.mtime}}))}catch(t){throw new Error(`Failed to list directory ${e}: ${t.message}`)}}async copyFile(e,t){try{await u.ensureDir(s.dirname(t)),await u.copy(e,t)}catch(n){throw new Error(`Failed to copy file from ${e} to ${t}: ${n.message}`)}}async moveFile(e,t){try{await u.ensureDir(s.dirname(t)),await u.move(e,t)}catch(n){throw new Error(`Failed to move file from ${e} to ${t}: ${n.message}`)}}async renameFile(e,t){try{await u.rename(e,t)}catch(n){throw new Error(`Failed to rename file from ${e} to ${t}: ${n.message}`)}}async getFileStats(e){try{const t=await u.stat(e);return{size:t.size,isDirectory:t.isDirectory(),isFile:t.isFile(),mtime:t.mtime,ctime:t.ctime,atime:t.atime}}catch(t){throw new Error(`Failed to get stats for ${e}: ${t.message}`)}}async exists(e){try{return await u.access(e),!0}catch{return!1}}async watchDirectory(e,t){const n=_();try{const s=h.w(e,{ignored:/(^|[\/\\])\../,persistent:!0,ignoreInitial:!0,followSymlinks:!1,depth:10});s.on("add",e=>t("add",e)).on("change",e=>t("change",e)).on("unlink",e=>t("unlink",e)).on("addDir",e=>t("addDir",e)).on("unlinkDir",e=>t("unlinkDir",e)).on("error",e=>{console.error("File watcher error:",e),t("error",e.message)});const r={id:n,watcher:s,path:e,callback:t};return this.watchers.set(n,r),n}catch(t){throw new Error(`Failed to watch directory ${e}: ${t.message}`)}}unwatchDirectory(e){const t=this.watchers.get(e);t&&(t.watcher.close(),this.watchers.delete(e))}async searchFiles(e,t,n={}){const r=[],{includeContent:i=!1,fileExtensions:a=[],maxResults:o=100}=n;try{const n=async e=>{if(r.length>=o)return;const c=await this.listDirectory(e);for(const e of c){if(r.length>=o)break;if(e.isDirectory&&!e.name.startsWith("."))await n(e.path);else if(e.isFile){if(a.length>0){const t=s.extname(e.name).toLowerCase();if(!a.includes(t))continue}const n=e.name.toLowerCase().includes(t.toLowerCase());if(n||i){const s={path:e.path,name:e.name,matches:[]};if(i)try{(await this.readFile(e.path)).split("\n").forEach((e,n)=>{e.toLowerCase().includes(t.toLowerCase())&&s.matches.push({line:n+1,content:e.trim()})})}catch(e){}(n||s.matches&&s.matches.length>0)&&r.push(s)}}}};return await n(e),r}catch(t){throw new Error(`Failed to search files in ${e}: ${t.message}`)}}async isDirectory(e){try{return(await u.stat(e)).isDirectory()}catch{return!1}}async isFile(e){try{return(await u.stat(e)).isFile()}catch{return!1}}async getFileExtension(e){return s.extname(e).toLowerCase()}async getFileName(e){return s.basename(e)}async getDirectoryName(e){return s.dirname(e)}async joinPath(...e){return s.join(...e)}async resolvePath(e){return s.resolve(e)}async getRelativePath(e,t){return s.relative(e,t)}async isImageFile(e){const t=await this.getFileExtension(e);return[".jpg",".jpeg",".png",".gif",".bmp",".svg",".webp",".ico"].includes(t)}async isTextFile(e){const t=await this.getFileExtension(e);return[".txt",".md",".json",".xml",".html",".css",".js",".ts",".jsx",".tsx",".py",".java",".cpp",".c",".h",".cs",".php",".rb",".go",".rs",".yaml",".yml",".toml",".ini",".cfg",".conf",".log",".sql",".sh",".bat",".ps1",".dockerfile",".gitignore",".gitattributes",".editorconfig"].includes(t)}async getFilePreview(e){try{const t=await this.getFileStats(e);if(await this.isImageFile(e))return{type:"image",size:t.size,mtime:t.mtime};if(await this.isTextFile(e)&&t.size<1048576){const n=await this.readFile(e),s=n.split("\n"),r=n.substring(0,1e4),i=this.getLanguageFromExtension(e);return{type:this.isCodeFile(e)?"code":"text",content:r,size:t.size,mtime:t.mtime,language:i,encoding:"utf-8",lineCount:s.length}}return{type:"binary",size:t.size,mtime:t.mtime}}catch(t){throw new Error(`Failed to get file preview for ${e}: ${t.message}`)}}isCodeFile(e){const t=s.extname(e).toLowerCase();return[".js",".jsx",".ts",".tsx",".py",".java",".cpp",".c",".h",".cs",".php",".rb",".go",".rs",".html",".css",".scss",".sass",".less",".json",".xml",".yaml",".yml",".sql",".sh",".bat",".ps1"].includes(t)}getLanguageFromExtension(e){return{".js":"javascript",".jsx":"javascript",".ts":"typescript",".tsx":"typescript",".py":"python",".java":"java",".cpp":"cpp",".c":"c",".cs":"csharp",".php":"php",".rb":"ruby",".go":"go",".rs":"rust",".html":"html",".css":"css",".scss":"scss",".sass":"sass",".less":"less",".json":"json",".xml":"xml",".yaml":"yaml",".yml":"yaml",".md":"markdown",".sql":"sql",".sh":"shell",".bash":"shell",".zsh":"shell",".bat":"batch",".ps1":"powershell"}[s.extname(e).toLowerCase()]||"plaintext"}async validateFileName(e){return/[<>:"/\\|?*\x00-\x1f]/.test(e)?{valid:!1,error:"File name contains invalid characters"}:["CON","PRN","AUX","NUL","COM1","COM2","COM3","COM4","COM5","COM6","COM7","COM8","COM9","LPT1","LPT2","LPT3","LPT4","LPT5","LPT6","LPT7","LPT8","LPT9"].includes(e.toUpperCase())?{valid:!1,error:"File name is reserved by the system"}:e.length>255?{valid:!1,error:"File name is too long"}:0===e.trim().length?{valid:!1,error:"File name cannot be empty"}:{valid:!0}}async createUniqueFileName(e,t,n=""){let r=0,i=t+n,a=s.join(e,i);for(;await this.exists(a);)r++,i=`${t} (${r})${n}`,a=s.join(e,i);return i}cleanup(){this.watchers.forEach(e=>{e.watcher.close()}),this.watchers.clear()}}class S{constructor(){this.windowManager=new o,this.fileSystemManager=new E}async initialize(){console.log("IPCManager initialized")}setupHandlers(){this.setupWindowHandlers(),this.setupFileSystemHandlers(),this.setupApplicationHandlers(),this.setupAgentHandlers(),this.setupTaskHandlers(),this.setupSystemHandlers()}setupWindowHandlers(){e.ipcMain.handle("window:create",async(e,t)=>{try{return{success:!0,windowId:(await this.windowManager.createChildWindow("main",t)).id}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("window:close",async(e,t)=>{try{return this.windowManager.closeWindow(t),{success:!0}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("window:minimize",async t=>{const n=e.BrowserWindow.fromWebContents(t.sender);return n?(n.minimize(),{success:!0}):{success:!1,error:"Window not found"}}),e.ipcMain.handle("window:maximize",async t=>{const n=e.BrowserWindow.fromWebContents(t.sender);return n?(n.isMaximized()?n.restore():n.maximize(),{success:!0,maximized:n.isMaximized()}):{success:!1,error:"Window not found"}}),e.ipcMain.handle("window:close-current",async t=>{const n=e.BrowserWindow.fromWebContents(t.sender);return n?(n.close(),{success:!0}):{success:!1,error:"Window not found"}})}setupFileSystemHandlers(){e.ipcMain.handle("fs:read-file",async(e,t)=>{try{return{success:!0,content:await u.readFile(t,"utf-8")}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:write-file",async(e,t,n)=>{try{return await u.ensureDir(s.dirname(t)),await u.writeFile(t,n,"utf-8"),{success:!0}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:delete-file",async(e,t)=>{try{return await u.remove(t),{success:!0}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:create-directory",async(e,t)=>{try{return await u.ensureDir(t),{success:!0}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:list-directory",async(e,t)=>{try{return{success:!0,items:(await u.readdir(t,{withFileTypes:!0})).map(e=>({name:e.name,isDirectory:e.isDirectory(),isFile:e.isFile(),path:s.join(t,e.name)}))}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:watch-directory",async(e,t)=>{try{return{success:!0,watcherId:await this.fileSystemManager.watchDirectory(t,(n,s)=>{e.sender.send("fs:directory-changed",{path:t,eventType:n,filename:s})})}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:unwatch-directory",async(e,t)=>{try{return this.fileSystemManager.unwatchDirectory(t),{success:!0}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:get-stats",async(e,t)=>{try{const e=await u.stat(t);return{success:!0,stats:{size:e.size,isDirectory:e.isDirectory(),isFile:e.isFile(),mtime:e.mtime,ctime:e.ctime}}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:copy",async(e,t,n)=>{try{return await this.fileSystemManager.copyFile(t,n),{success:!0}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:move",async(e,t,n)=>{try{return await this.fileSystemManager.moveFile(t,n),{success:!0}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:rename",async(e,t,n)=>{try{return await this.fileSystemManager.renameFile(t,n),{success:!0}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:exists",async(e,t)=>{try{return{success:!0,exists:await this.fileSystemManager.exists(t)}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:get-preview",async(e,t)=>{try{return{success:!0,preview:await this.fileSystemManager.getFilePreview(t)}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:search",async(e,t,n,s={})=>{try{return{success:!0,results:await this.fileSystemManager.searchFiles(t,n,s)}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:validate-name",async(e,t)=>{try{return{success:!0,validation:await this.fileSystemManager.validateFileName(t)}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:create-unique-name",async(e,t,n,s="")=>{try{return{success:!0,uniqueName:await this.fileSystemManager.createUniqueFileName(t,n,s)}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:join-path",async(e,...t)=>{try{return{success:!0,path:await this.fileSystemManager.joinPath(...t)}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:get-file-name",async(e,t)=>{try{return{success:!0,fileName:await this.fileSystemManager.getFileName(t)}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:get-directory-name",async(e,t)=>{try{return{success:!0,dirName:await this.fileSystemManager.getDirectoryName(t)}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("fs:get-extension",async(e,t)=>{try{return{success:!0,extension:await this.fileSystemManager.getFileExtension(t)}}catch(e){return{success:!1,error:e.message}}})}setupApplicationHandlers(){e.ipcMain.handle("app:show-open-dialog",async(t,n)=>{try{return{success:!0,...await e.dialog.showOpenDialog(n)}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("app:show-save-dialog",async(t,n)=>{try{return{success:!0,...await e.dialog.showSaveDialog(n)}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("app:show-message-box",async(t,n)=>{try{return{success:!0,...await e.dialog.showMessageBox(n)}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("app:open-external",async(t,n)=>{try{return await e.shell.openExternal(n),{success:!0}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("app:show-item-in-folder",async(t,n)=>{try{return e.shell.showItemInFolder(n),{success:!0}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("app:get-version",async()=>({success:!0,version:e.app.getVersion()})),e.ipcMain.handle("app:get-path",async(t,n)=>{try{return{success:!0,path:e.app.getPath(n)}}catch(e){return{success:!1,error:e.message}}})}setupAgentHandlers(){e.ipcMain.handle("agent:create",async(e,t)=>{try{return console.log("Creating agent:",t),{success:!0,agentId:"temp-id"}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("agent:start",async(e,t)=>{try{return console.log("Starting agent:",t),{success:!0}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("agent:stop",async(e,t)=>{try{return console.log("Stopping agent:",t),{success:!0}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("agent:get-status",async(e,t)=>{try{return{success:!0,status:"idle"}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("agent:list",async()=>{try{return{success:!0,agents:[]}}catch(e){return{success:!1,error:e.message}}})}setupTaskHandlers(){e.ipcMain.handle("task:create",async(e,t)=>{try{return console.log("Creating task:",t),{success:!0,taskId:"temp-task-id"}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("task:assign",async(e,t,n)=>{try{return console.log("Assigning task:",t,"to agent:",n),{success:!0}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("task:get-status",async(e,t)=>{try{return{success:!0,status:"pending"}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("task:list",async()=>{try{return{success:!0,tasks:[]}}catch(e){return{success:!1,error:e.message}}})}setupSystemHandlers(){e.ipcMain.handle("system:get-info",async()=>{try{return{success:!0,info:{platform:process.platform,arch:process.arch,version:process.version,nodeVersion:process.versions.node,electronVersion:process.versions.electron}}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("system:execute-command",async(e,t,n)=>{try{return console.log("Executing command:",t),{success:!0,output:"Command executed"}}catch(e){return{success:!1,error:e.message}}}),e.ipcMain.handle("system:get-env",async(e,t)=>{try{return t?{success:!0,value:process.env[t]}:{success:!0,env:process.env}}catch(e){return{success:!1,error:e.message}}})}}(new class{constructor(){this.isDevelopment=!1,this.windowManager=new o,this.menuManager=new c,this.trayManager=new l,this.ipcManager=new S,this.fileSystemManager=new E}async initialize(){this.configureApp(),this.setupAppEvents(),this.setupAutoUpdater(),await this.initializeManagers()}configureApp(){"win32"===process.platform&&e.app.setAppUserModelId("com.multiagent.ide"),e.app.commandLine.appendSwitch("disable-web-security"),e.app.commandLine.appendSwitch("disable-features","OutOfBlinkCors")}setupAppEvents(){e.app.whenReady().then(async()=>{await this.onAppReady()}),e.app.on("window-all-closed",this.onWindowAllClosed.bind(this)),e.app.on("activate",this.onActivate.bind(this)),e.app.on("before-quit",this.onBeforeQuit.bind(this)),e.app.on("web-contents-created",this.onWebContentsCreated.bind(this))}async onAppReady(){await this.windowManager.createMainWindow(),this.menuManager.createApplicationMenu(),this.trayManager.createTray(),this.ipcManager.setupHandlers(),this.fileSystemManager.initialize(),console.log("Multi-Agent IDE Desktop Application Ready")}onWindowAllClosed(){"darwin"!==process.platform&&e.app.quit()}async onActivate(){0===e.BrowserWindow.getAllWindows().length&&await this.windowManager.createMainWindow()}onBeforeQuit(){this.fileSystemManager.cleanup(),this.trayManager.cleanup()}onWebContentsCreated(t,n){n.setWindowOpenHandler(({url:t})=>(e.shell.openExternal(t),{action:"deny"})),n.on("will-navigate",(e,t)=>{"http://localhost:3000"===new URL(t).origin||this.isDevelopment||e.preventDefault()})}async initializeManagers(){await Promise.all([this.windowManager.initialize(),this.menuManager.initialize(),this.trayManager.initialize(),this.ipcManager.initialize(),this.fileSystemManager.initialize()])}setupAutoUpdater(){this.isDevelopment||(t.autoUpdater.checkForUpdatesAndNotify(),t.autoUpdater.on("update-available",()=>{console.log("Update available")}),t.autoUpdater.on("update-downloaded",()=>{console.log("Update downloaded"),t.autoUpdater.quitAndInstall()}))}}).initialize().catch(t=>{console.error("Failed to initialize Electron app:",t),e.app.quit()})})()})();